define("examples/pro/chartpark/index",[],(t,e,i)=>{"use strict";e.__esModule=!0;var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},u="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)},c=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e},g={},v={},y=Array.prototype,_=Object.prototype,x=y.push,m=y.slice,b=y.concat,w=_.toString,k=_.hasOwnProperty,A=y.forEach,S=y.map,T=y.filter,C=y.every,P=y.some,L=y.indexOf,D=Array.isArray,O=Object.keys,I=Math.pow(2,53)-1,E=function(t){return function(e){return null==e?void 0:e[t]}}("length"),M=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=I};g.values=function(t){for(var e=g.keys(t),i=e.length,n=new Array(i),a=0;a<i;a++)n[a]=t[e[a]];return n},g.keys=O||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)g.has(t,i)&&e.push(i);return e},g.has=function(t,e){return k.call(t,e)};var F=g.each=g.forEach=function(t,e,i){if(null!=t)if(A&&t.forEach===A)t.forEach(e,i);else if(t.length===+t.length){for(var n=0,a=t.length;n<a;n++)if(e.call(i,t[n],n,t)===v)return}else{var r=g.keys(t);for(n=0,a=r.length;n<a;n++)if(e.call(i,t[r[n]],r[n],t)===v)return}};g.compact=function(t){return g.filter(t,g.identity)},g.filter=g.select=function(t,e,i){var n=[];return null==t?n:T&&t.filter===T?t.filter(e,i):(F(t,function(t,a,r){e.call(i,t,a,r)&&n.push(t)}),n)},F(["Arguments","Function","String","Number","Date","RegExp"],function(t){g["is"+t]=function(e){return w.call(e)=="[object "+t+"]"}}),g.isArguments=function(t){return!(!t||!g.has(t,"callee"))},g.isFunction=function(t){return"function"==typeof t},g.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&t!=+t},g.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==w.call(t)},g.isNull=function(t){return null===t},g.isEmpty=function(t){if(null==t)return!0;if(g.isArray(t)||g.isString(t))return 0===t.length;for(var e in t)if(g.has(t,e))return!1;return!0},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=D||function(t){return"[object Array]"==w.call(t)},g.isObject=function(t){return t===Object(t)},g.identity=function(t){return t},g.indexOf=function(t,e,i){if(null==t)return-1;var n=0,a=t.length;if(i){if("number"!=typeof i)return t[n=g.sortedIndex(t,e)]===e?n:-1;n=i<0?Math.max(0,a+i):i}if(L&&t.indexOf===L)return t.indexOf(e,i);for(;n<a;n++)if(t[n]===e)return n;return-1},g.isWindow=function(t){return null!=t&&t==t.window};g.flatten=function(t,e){return function t(e,i,n){return i&&g.every(e,g.isArray)?b.apply(n,e):(F(e,function(e){g.isArray(e)||g.isArguments(e)?i?x.apply(n,e):t(e,i,n):n.push(e)}),n)}(t,e,[])},g.every=g.all=function(t,e,i){e||(e=g.identity);var n=!0;return null==t?n:C&&t.every===C?t.every(e,i):(F(t,function(t,a,r){if(!(n=n&&e.call(i,t,a,r)))return v}),!!n)},g.min=function(t,e,i){if(!e&&g.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&g.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return F(t,function(t,a,r){var s=e?e.call(i,t,a,r):t;s<n.computed&&(n={value:t,computed:s})}),n.value},g.max=function(t,e,i){if(!e&&g.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&g.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return F(t,function(t,a,r){var s=e?e.call(i,t,a,r):t;s>n.computed&&(n={value:t,computed:s})}),n.value},g.find=g.detect=function(t,e,i){var n;return B(t,function(t,a,r){if(e.call(i,t,a,r))return n=t,!0}),n};var B=g.some=g.any=function(t,e,i){e||(e=g.identity);var n=!1;return null==t?n:P&&t.some===P?t.some(e,i):(F(t,function(t,a,r){if(n||(n=e.call(i,t,a,r)))return v}),!!n)};g.without=function(t){return g.difference(t,m.call(arguments,1))},g.difference=function(t){var e=b.apply(y,m.call(arguments,1));return g.filter(t,function(t){return!g.contains(e,t)})},g.uniq=g.unique=function(t,e,i,n){g.isFunction(e)&&(n=i,i=e,e=!1);var a=i?g.map(t,i,n):t,r=[],s=[];return F(a,function(i,n){(e?n&&s[s.length-1]===i:g.contains(s,i))||(s.push(i),r.push(t[n]))}),r},g.map=g.collect=function(t,e,i){var n=[];return null==t?n:S&&t.map===S?t.map(e,i):(F(t,function(t,a,r){n.push(e.call(i,t,a,r))}),n)},g.contains=g.include=function(t,e){return null!=t&&(L&&t.indexOf===L?-1!=t.indexOf(e):B(t,function(t){return t===e}))},g.pluck=function(t,e){return g.map(t,function(t){return t[e]})},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.shuffle=function(t){return g.sample(t,1/0)},g.sample=function(t,e,i){if(null==e||i)return M(t)||(t=g.values(t)),t[g.random(t.length-1)];var n=M(t)?g.clone(t):g.values(t),a=E(n);e=Math.max(Math.min(e,a),0);for(var r=a-1,s=0;s<e;s++){var o=g.random(s,r),l=n[s];n[s]=n[o],n[o]=l}return n.slice(0,e)},g.extend=function(){var t,e,i,n,a=arguments[0]||{},r=1,s=arguments.length,o=!1;for("boolean"==typeof a&&(o=a,a=arguments[1]||{},r=2),"object"===(void 0===a?"undefined":u(a))||g.isFunction(a)||(a={}),s===r&&(a=this,--r);r<s;r++)if(null!=(t=arguments[r]))for(e in t)i=a[e],a!==(n=t[e])&&(o&&n&&g.isObject(n)&&n.constructor===Object?a[e]=g.extend(o,i,n):a[e]=n);return a},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend(!0,{},t):t};var N={RESOLUTION:window.devicePixelRatio||1,TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,FILTER_RESOLUTION:1,SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@(.+)x/,RENDER_OPTIONS:{view:null,antialias:!0,forceFXAA:!1,autoResize:!1,transparent:!0,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION:"mediump"},R=function(t,e){if(document[t]){var i={v:function e(i,n,a){if(i.length)for(var r=0;r<i.length;r++)e(i[r],n,a);else i[t](n,a,!1)}};if("object"===(void 0===i?"undefined":u(i)))return i.v}else{var n={v:function t(i,n,a){if(i.length)for(var r=0;r<i.length;r++)t(i[r],n,a);else i[e]("on"+n,function(){return a.call(i,window.event)})}};if("object"===(void 0===n?"undefined":u(n)))return n.v}},W={query:function(t){return g.isString(t)?document.getElementById(t):1==t.nodeType?t:t.length?t[0]:null},offset:function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,a=i.documentElement,r=a.clientTop||n.clientTop||0,s=a.clientLeft||n.clientLeft||0,o=1;if(n.getBoundingClientRect){var l=n.getBoundingClientRect();o=(l.right-l.left)/n.clientWidth}return o>1&&(r=0,s=0),{top:e.top/o+(window.pageYOffset||a&&a.scrollTop/o||n.scrollTop/o)-r,left:e.left/o+(window.pageXOffset||a&&a.scrollLeft/o||n.scrollLeft/o)-s}},addEvent:R("addEventListener","attachEvent"),removeEvent:R("removeEventListener","detachEvent"),pageX:function(t){return t.pageX?t.pageX:t.clientX?t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):null},pageY:function(t){return t.pageY?t.pageY:t.clientY?t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):null},createCanvas:function(t,e,i){var n=document.createElement("canvas");return n.style.position="absolute",n.style.width=t+"px",n.style.height=e+"px",n.style.left=0,n.style.top=0,n.setAttribute("width",t*N.RESOLUTION),n.setAttribute("height",e*N.RESOLUTION),n.setAttribute("id",i),n},createView:function(t,e,i){var n=document.createElement("div");n.className="canvax-view",n.style.cssText+="position:relative;width:100%;height:100%;";var a=document.createElement("div");a.style.cssText+="position:absolute;width:"+t+"px;height:"+e+"px;";var r=document.createElement("div");return r.style.cssText+="position:absolute;width:"+t+"px;height:"+e+"px;",n.appendChild(a),n.appendChild(r),{view:n,stageView:a,domView:r}}},G={mainFrameRate:60,now:0,_pixelCtx:null,__emptyFunc:function(){},_devicePixelRatio:window.devicePixelRatio||1,_UID:0,getUID:function(){return this._UID++},createId:function(t){var e=t.charCodeAt(t.length-1);return e>=48&&e<=57&&(t+="_"),t+G.getUID()},canvasSupport:function(){return!!document.createElement("canvas").getContext},initElement:function(t){return window.FlashCanvas&&FlashCanvas.initElement&&FlashCanvas.initElement(t),t},getCssOrderArr:function(t){var e,i,n,a;return"number"==typeof t?e=i=n=a=t:t instanceof Array?1===t.length?e=i=n=a=t[0]:2===t.length?(e=n=t[0],i=a=t[1]):3===t.length?(e=t[0],i=a=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],a=t[3]):e=i=n=a=0,[e,i,n,a]},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!i||!i.getContextAttributes().stencil)}catch(t){return!1}},checkOpt:function(t){return t?t.context||(t.context={}):t={context:{}},t}};G._pixelCtx=G.initElement(W.createCanvas(1,1,"_pixelCanvas")).getContext("2d");var j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(c(this,t),1==arguments.length&&"object"==u(arguments[0])){var n=arguments[0];if("x"in n&&"y"in n)this.x=1*n.x,this.y=1*n.y;else{var a=0;for(var r in n){if(0!=a){this.y=1*n[r];break}this.x=1*n[r],a++}}}else this.x=1*e,this.y=1*i}return d(t,[{key:"toArray",value:function(){return[this.x,this.y]}}]),t}(),H=function(t,e){var i="CanvaxEvent";g.isString(t)&&(i=t),g.isObject(t)&&t.type&&(i=t.type),this.target=null,this.currentTarget=null,this.type=i,this.point=null,this._stopPropagation=!1};H.prototype={stopPropagation:function(){this._stopPropagation=!0}};var z=["click","dblclick","mousedown","mousemove","mouseup","mouseout"],$=["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown","press","pressup","swipe","swipeleft","swiperight","swipeup","swipedown","tap"],V=function(t,e){this.canvax=t,this.curPoints=[new j(0,0)],this.curPointsTarget=[],this._touching=!1,this._draging=!1,this._cursor="default",this.target=this.canvax.view,this.types=[],this.drag={start:"panstart",move:"panmove",end:"panend"},g.extend(!0,this,e)},U=document.compareDocumentPosition?function(t,e){return!!e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){return!!e&&(e!=e&&(!t.contains||t.contains(e)))};V.prototype={init:function(){var t=this;null==t.target.nodeType?t.types&&0!=t.types.length||(t.types=$):1==t.target.nodeType&&(t.types=z),g.each(t.types,function(e){1==t.target.nodeType?W.addEvent(t.target,e,function(e){t.__mouseHandler(e)}):t.target.on(e,function(e){t.__libHandler(e)})})},__mouseHandler:function(t){var e=this,i=e.canvax;i.updateViewOffset(),e.curPoints=[new j(W.pageX(t)-i.viewOffset.left,W.pageY(t)-i.viewOffset.top)];var n=e.curPoints[0],a=e.curPointsTarget[0];if("mousedown"==t.type){if(!a){var r=i.getObjectsUnderPoint(n,1)[0];r&&(e.curPointsTarget=[r])}(a=e.curPointsTarget[0])&&a.dragEnabled&&(e._touching=!0)}if(("mouseup"==t.type||"mouseout"==t.type&&!U(i.view,t.toElement||t.relatedTarget))&&(1==e._draging&&(e._dragEnd(t,a,0),a.fire("dragend")),e._draging=!1,e._touching=!1),"mouseout"==t.type)U(i.view,t.toElement||t.relatedTarget)||e.__getcurPointsTarget(t,n,!0);else if("mousemove"==t.type)if(e._touching&&"mousemove"==t.type&&a){if(e._draging)e._dragIngHander(t,a,0);else a.fire("dragstart"),a._globalAlpha||(a._globalAlpha=a.context.$model.globalAlpha),a.context.globalAlpha=0,e._clone2hoverStage(a,0).context.globalAlpha=a._globalAlpha;e._draging=!0}else e.__getcurPointsTarget(t,n);else{var s=a;s||(s=i),e.__dispatchEventInChilds(t,[s]),e._cursorHander(s)}i.preventDefault&&(t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1)},__getcurPointsTarget:function(t,e,i){var n=this,a=n.canvax,r=n.curPointsTarget[0];if(r&&!r.context&&(r=null),"mousemove"==(t=new H(t)).type&&r&&r._hoverClass&&r.hoverClone&&r.pointChkPriority&&r.getChildInPoint(e))return t.target=t.currentTarget=r,t.point=r.globalToLocal(e),void r.dispatchEvent(t);var s=i?null:a.getObjectsUnderPoint(e,1)[0];(r&&r!=s||"mouseout"==t.type)&&r&&r.context&&(n.curPointsTarget[0]=null,t.type="mouseout",t.toTarget=s,t.target=t.currentTarget=r,t.point=r.globalToLocal(e),r.dispatchEvent(t)),s&&r!=s&&(n.curPointsTarget[0]=s,t.type="mouseover",t.fromTarget=r,t.target=t.currentTarget=s,t.point=s.globalToLocal(e),s.dispatchEvent(t)),"mousemove"==t.type&&s&&(t.target=t.currentTarget=r,t.point=r.globalToLocal(e),r.dispatchEvent(t)),n._cursorHander(s,r)},_cursorHander:function(t,e){t||e||this._setCursor("default"),t&&e!=t&&t.context&&this._setCursor(t.context.$model.cursor)},_setCursor:function(t){this._cursor!=t&&(this.canvax.view.style.cursor=t,this._cursor=t)},__libHandler:function(t){var e=this,i=e.canvax;i.updateViewOffset(),e.curPoints=e.__getCanvaxPointInTouchs(t),e._draging||(e.curPointsTarget=e.__getChildInTouchs(e.curPoints)),e.curPointsTarget.length>0?(t.type==e.drag.start&&g.each(e.curPointsTarget,function(t,i){if(t&&t.dragEnabled)return e._draging=!0,t._globalAlpha||(t._globalAlpha=t.context.$model.globalAlpha),e._clone2hoverStage(t,i),t.context.globalAlpha=0,t.fire("dragstart"),!1}),t.type==e.drag.move&&e._draging&&g.each(e.curPointsTarget,function(i,n){i&&i.dragEnabled&&e._dragIngHander(t,i,n)}),t.type==e.drag.end&&e._draging&&(g.each(e.curPointsTarget,function(i,n){i&&i.dragEnabled&&(e._dragEnd(t,i,0),i.fire("dragend"))}),e._draging=!1),e.__dispatchEventInChilds(t,e.curPointsTarget)):e.__dispatchEventInChilds(t,[i])},__getCanvaxPointInTouchs:function(t){var e=this.canvax,i=[];return g.each(t.point,function(t){i.push({x:H.pageX(t)-e.viewOffset.left,y:H.pageY(t)-e.viewOffset.top})}),i},__getChildInTouchs:function(t){var e=this.canvax,i=[];return g.each(t,function(t){i.push(e.getObjectsUnderPoint(t,1)[0])}),i},__dispatchEventInChilds:function(t,e){if(!(e||"length"in e))return!1;var i=this,n=!1;return g.each(e,function(e,a){if(e){n=!0;var r=new H(t);r.target=r.currentTarget=e||this,r.stagePoint=i.curPoints[a],r.point=r.target.globalToLocal(r.stagePoint),e.dispatchEvent(r)}}),n},_clone2hoverStage:function(t,e){var i=this.canvax,n=i._bufferStage.getChildById(t.id);return n||((n=t.clone(!0))._transform=t.getConcatenatedMatrix(),i._bufferStage.addChildAt(n,0)),n.context.globalAlpha=t._globalAlpha,t._dragPoint=t.globalToLocal(this.curPoints[e]),n},_dragIngHander:function(t,e,i){var n=this.canvax,a=e.globalToLocal(this.curPoints[i]);e._noHeart=!0;var r=e.moveing;e.moveing=!0,e.context.x+=a.x-e._dragPoint.x,e.context.y+=a.y-e._dragPoint.y,e.fire("draging"),e.moveing=r,e._noHeart=!1;var s=n._bufferStage.getChildById(e.id);s._transform=e.getConcatenatedMatrix(),s.worldTransform=null,s.heartBeat()},_dragEnd:function(t,e,i){var n=this.canvax._bufferStage.getChildById(e.id);n&&n.destroy(),e.context.globalAlpha=e._globalAlpha}};var Y=function(){this._eventMap={}};Y.prototype={_addEventListener:function(t,e){if("function"!=typeof e)return!1;var i=!0,n=this;return g.each(t.split(" "),function(t){var a=n._eventMap[t];return a?-1==g.indexOf(a,e)?(a.push(e),n._eventEnabled=!0,!0):void(i=!1):((a=n._eventMap[t]=[]).push(e),n._eventEnabled=!0,!0)}),i},_removeEventListener:function(t,e){if(1==arguments.length)return this.removeEventListenerByType(t);var i=this._eventMap[t];if(!i)return!1;for(var n=0;n<i.length;n++){if(i[n]===e)return i.splice(n,1),0==i.length&&(delete this._eventMap[t],g.isEmpty(this._eventMap)&&(this._eventEnabled=!1)),!0}return!1},_removeEventListenerByType:function(t){return!this._eventMap[t]&&(delete this._eventMap[t],g.isEmpty(this._eventMap)&&(this._eventEnabled=!1),!0)},_removeAllEventListeners:function(){this._eventMap={},this._eventEnabled=!1},_dispatchEvent:function(t){var e=this._eventMap[t.type];if(e){t.target||(t.target=this),e=e.slice();for(var i=0;i<e.length;i++){var n=e[i];"function"==typeof n&&n.call(this,t)}}return t._stopPropagation||this.parent&&(t.currentTarget=this.parent,this.parent._dispatchEvent(t)),!0},_hasEventListener:function(t){var e=this._eventMap[t];return null!=e&&e.length>0}};var X=function(t){function e(){return c(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return f(e,Y),d(e,[{key:"on",value:function(t,e){return this._addEventListener(t,e),this}},{key:"addEventListener",value:function(t,e){return this._addEventListener(t,e),this}},{key:"un",value:function(t,e){return this._removeEventListener(t,e),this}},{key:"removeEventListener",value:function(t,e){return this._removeEventListener(t,e),this}},{key:"removeEventListenerByType",value:function(t){return this._removeEventListenerByType(t),this}},{key:"removeAllEventListeners",value:function(){return this._removeAllEventListeners(),this}},{key:"fire",value:function(t,e){var i=new H(t);if(e)for(var n in e)"type"!=n&&(i[n]=e[n]),i.currentTarget=this;var a=this;return g.each(t.split(" "),function(t){i.currentTarget=a,a.dispatchEvent(i)}),this}},{key:"dispatchEvent",value:function(t){if(this.children&&t.point){var e=this.getObjectsUnderPoint(t.point,1)[0];e&&e.dispatchEvent(t)}else{if(!this.context||"mouseover"!=t.type){if(this._dispatchEvent(t),this.context&&"mouseout"==t.type&&this._hoverClass&&this.hoverClone){a=this.getStage().parent;this._hoverClass=!1,a._bufferStage.removeChildById(this.id),this._globalAlpha&&(this.context.globalAlpha=this._globalAlpha,delete this._globalAlpha)}return this}var i=this._heartBeatNum,n=this.context.$model.globalAlpha;if(this._dispatchEvent(t),i!=this._heartBeatNum&&(this._hoverClass=!0,this.hoverClone)){var a=this.getStage().parent,r=this.clone(!0);r._transform=this.getConcatenatedMatrix(),a._bufferStage.addChildAt(r,0),this._globalAlpha=n,this.context.globalAlpha=0}}}},{key:"hasEvent",value:function(t){return this._hasEventListener(t)}},{key:"hasEventListener",value:function(t){return this._hasEventListener(t)}},{key:"hover",value:function(t,e){return this.on("mouseover",t),this.on("mouseout",e),this}},{key:"once",value:function(t,e){var i=this;return this.on(t,function n(){e.apply(i,arguments),this.un(t,n)}),this}}]),e}(),q=function(t,e,i,n,a,r){this.a=null!=t?t:1,this.b=null!=e?e:0,this.c=null!=i?i:0,this.d=null!=n?n:1,this.tx=null!=a?a:0,this.ty=null!=r?r:0,this.array=null};q.prototype={concat:function(t){var e=this.a,i=this.c,n=this.tx;return this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d,this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},concatTransform:function(t,e,i,n,a){var r=1,s=0;if(a%360){var o=a*Math.PI/180;r=Math.cos(o),s=Math.sin(o)}return this.concat(new q(r*i,s*i,-s*n,r*n,t,e)),this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,a=this.c,r=this.tx;if(t>0)this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=a*e-this.d*i,this.d=a*i+this.d*e,this.tx=r*e-this.ty*i,this.ty=r*i+this.ty*e;else{var s=Math.sin(Math.abs(t)),o=Math.cos(Math.abs(t));this.a=n*o+this.b*s,this.b=-n*s+this.b*o,this.c=a*o+this.d*s,this.d=-a*s+o*this.d,this.tx=o*r+s*this.ty,this.ty=o*this.ty-s*r}return this},scale:function(t,e){return this.a*=t,this.d*=e,this.tx*=t,this.ty*=e,this},translate:function(t,e){return this.tx+=t,this.ty+=e,this},identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},invert:function(){var t=this.a,e=this.b,i=this.c,n=this.d,a=this.tx,r=t*n-e*i;return this.a=n/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-n*a)/r,this.ty=-(t*this.ty-e*a)/r,this},clone:function(){return new q(this.a,this.b,this.c,this.d,this.tx,this.ty)},toArray:function(t,e){if(0==arguments.length)return[this.a,this.b,this.c,this.d,this.tx,this.ty];this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},mulVector:function(t){var e=this.a,i=this.c,n=this.tx,a=this.b,r=this.d,s=this.ty,o=[0,0];return o[0]=t[0]*e+t[1]*i+n,o[1]=t[0]*a+t[1]*r+s,o}};"undefined"!=typeof window?window:void 0!==n||"undefined"!=typeof self&&self;for(var Q=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){var i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(t=void 0!==t?t:a.now();i.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++)!1===this._tweens[i[n]].update(t)&&(this._tweens[i[n]]._isPlaying=!1,e||delete this._tweens[i[n]]);i=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var n,a=new i;a.Group=i,a._nextId=0,a.nextId=function(){return a._nextId++},"undefined"==typeof window&&"undefined"!=typeof process?a.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?a.now=window.performance.now.bind(window.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?a.now()+parseFloat(t):t:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,i,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(i=(t-this._startTime)/this._duration)>1?1:i,n=this._easingFunction(i),this._valuesEnd)if(void 0!==this._valuesStart[e]){var a=this._valuesStart[e]||0,r=this._valuesEnd[e];r instanceof Array?this._object[e]=this._interpolationFunction(r,n):("string"==typeof r&&(r="+"===r.charAt(0)||"-"===r.charAt(0)?a+parseFloat(r):parseFloat(r)),"number"==typeof r&&(this._object[e]=a+(r-a)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===i){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var s=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=s}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,l=this._chainedTweens.length;o<l;o++)this._chainedTweens[o].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),s=a.Interpolation.Utils.Linear;return e<0?s(t[0],t[1],n):e>1?s(t[i],t[i-1],i-n):s(t[r],t[r+1>i?i:r+1],n-r)},Bezier:function(t,e){for(var i=0,n=t.length-1,r=Math.pow,s=a.Interpolation.Utils.Bernstein,o=0;o<=n;o++)i+=r(1-e,n-o)*r(e,o)*t[o]*s(n,o);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),s=a.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(r=Math.floor(n=i*(1+e))),s(t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i],n-r)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(s(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):s(t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2],n-r)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=a.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var i=t;i>1;i--)e*=i;return n[t]=e,e}),CatmullRom:function(t,e,i,n,a){var r=.5*(i-t),s=.5*(n-e),o=a*a;return(2*e-2*i+r+s)*(a*o)+(-3*e+3*i-2*r-s)*o+r*a+e}}},t.exports=a}),Z=0,J=["ms","moz","webkit","o"],K=0;K<J.length&&!window.requestAnimationFrame;++K)window.requestAnimationFrame=window[J[K]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[J[K]+"CancelAnimationFrame"]||window[J[K]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-Z)),a=window.setTimeout(function(){t(i+n)},n);return Z=i+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var tt=[],et=null;function it(t){if(t)return tt.push(t),et||(et=requestAnimationFrame(function(){Q.update();var t=tt;for(tt=[],et=null;t.length>0;)t.shift().task()})),et}function nt(t){for(var e=!1,i=0,n=tt.length;i<n;i++)tt[i].id===t.id&&(e=!0,tt.splice(i,1),i--,n--);return 0==tt.length&&(cancelAnimationFrame(et),et=null),e}var at={registFrame:it,destroyFrame:nt,registTween:function(t){var e=g.extend({from:null,to:null,duration:500,onStart:function(){},onUpdate:function(){},onComplete:function(){},onStop:function(){},repeat:0,delay:0,easing:"Linear.None",desc:""},t),i={},n="tween_"+G.getUID();return e.id&&(n=n+"_"+e.id),e.from&&e.to&&((i=new Q.Tween(e.from).to(e.to,e.duration).onStart(function(){e.onStart(e.from)}).onUpdate(function(){e.onUpdate(e.from)}).onComplete(function(){nt({id:n}),i._isCompleteed=!0,e.onComplete(e.from)}).onStop(function(){nt({id:n}),i._isStoped=!0,e.onStop(e.from)}).repeat(e.repeat).delay(e.delay).easing(Q.Easing[e.easing.split(".")[0]][e.easing.split(".")[1]])).id=n,i.start(),function t(){i._isCompleteed||i._isStoped?i=null:it({id:n,task:t,desc:e.desc,tween:i})}()),i},destroyTween:function(t,e){t.stop()},Tween:Q,taskList:tt};var rt=Object.defineProperty;try{rt({},"_",{value:"x"});var st=Object.defineProperties}catch(t){"__defineGetter__"in Object&&(rt=function(t,e,i){return"value"in i&&(t[e]=i.value),"get"in i&&t.__defineGetter__(e,i.get),"set"in i&&t.__defineSetter__(e,i.set),t},st=function(t,e){for(var i in e)e.hasOwnProperty(i)&&rt(t,i,e[i]);return t})}var ot={UNKNOWN:0,WEBGL:1,CANVAS:2},lt={POLY:0,RECT:1,CIRC:2,ELIP:3},ht=["x","y","scaleX","scaleY","rotation","scaleOrigin","rotateOrigin"],ut=["lineWidth","lineAlpha","strokeStyle","fillStyle","fillAlpha","globalAlpha"],ct=function(t,e,i,n){var a=t[0],r=t[1],s=t[2],o=t[3],l=Math.max(n,3),h=0,u=a;return!(i>r+l&&i>o+l||i<r-l&&i<o-l||e>a+l&&e>s+l||e<a-l&&e<s-l)&&(a===s?Math.abs(e-a)<=l/2:((h=(r-o)/(a-s))*e-i+(u=(a*o-s*r)/(a-s)))*(h*e-i+u)/(h*h+1)<=l/2*l/2)};function dt(t,e,i,n){for(var a=t.shape.points,r=t.lineWidth,s=!1,o=0;o<a.length&&!(s=ct(a.slice(o,o+4),e,i,r));++o)o+=1;return s}var ft=function(t){function e(t){c(this,e);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._transform=null,i.worldTransform=null,i._transformChange=!1,i._heartBeatNum=0,i.stage=null,i.parent=null,i.xyToInt=!("xyToInt"in t)||t.xyToInt,i.moveing=!1,i.clip=null,i.context=i._createContext(t),i.type=t.type||"DisplayObject",i.id=t.id||G.createId(i.type),i._trackList=[],i.init.apply(i,arguments),i._updateTransform(),i}return f(e,X),d(e,[{key:"init",value:function(){}},{key:"clipTo",value:function(t){this.clip=t,t.isClip=!0}},{key:"_createContext",value:function(t){var e=this,i=t.context||{},n={width:i.width||0,height:i.height||0,x:i.x||0,y:i.y||0,scaleX:i.scaleX||1,scaleY:i.scaleY||1,scaleOrigin:i.scaleOrigin||{x:0,y:0},rotation:i.rotation||0,rotateOrigin:i.rotateOrigin||{x:0,y:0},visible:i.visible||!0,globalAlpha:i.globalAlpha||1};return g.extend(!0,n,t.context),e._notWatch=!1,e._noHeart=!1,n.$watch=function(t,i,n){var a=e;a.context&&("globalGalpha"==t&&(a._globalAlphaChange=!0),g.indexOf(ht,t)>-1&&(a._updateTransform(),a._transformChange=!0),a._notWatch||(a.$watch&&(a._notWatch=!0,a.$watch(t,i,n),a._notWatch=!1),a._noHeart||a.heartBeat({convertType:"context",shape:a,name:t,value:i,preValue:n})))},function t(e){var i=!0,n={},a={},r=["$watch","$model"],s={},o=r;function l(e,l){-1===g.indexOf(r,e)&&(s[e]=l);var h=void 0===l?"undefined":u(l);if(!(g.indexOf(o,e)>-1))if("function"===h)o.push(e);else{var c=function(a){var r,o=s[e],l=o;if(!arguments.length)return!o||"object"!==h||o instanceof Array||o.$model||o.addColorStop||((o=t(o)).$watch=n.$watch,s[e]=o),o;var c=void 0===a?"undefined":u(a);i||o!==a&&(!a||"object"!==c||a instanceof Array||a.addColorStop?o=a:r=(o=a.$model?a:t(a)).$model,s[e]=r||o,h!=c&&(h=c),n.$watch&&n.$watch.call(n,e,o,l))};a[e]={set:c,get:c,enumerable:!0}}}for(var h in e)l(h,e[h]);return n=st(n,a,o),g.forEach(o,function(t){e[t]&&("function"==typeof e[t]?n[t]=function(){e[t].apply(this,arguments)}:n[t]=e[t])}),n.$model=s,n.hasOwnProperty=function(t){return t in n.$model},i=!1,n}(n)}},{key:"track",value:function(t){-1==g.indexOf(this._trackList,t)&&this._trackList.push(t)}},{key:"untrack",value:function(t){var e=g.indexOf(this._trackList,t);e>-1&&this._trackList.splice(e,1)}},{key:"clone",value:function(t){var e,i={id:this.id,context:g.clone(this.context.$model),isClone:!0};return(e="text"==this.type?new this.constructor(this.text,i):new this.constructor(i)).id=i.id,this.children&&(e.children=this.children),this.graphics&&(e.graphics=this.graphics.clone()),t||(e.id=G.createId(e.type)),e}},{key:"heartBeat",value:function(t){var e=this.getStage();e&&(this._heartBeatNum++,e.heartBeat&&e.heartBeat(t))}},{key:"getCurrentWidth",value:function(){return Math.abs(this.context.$model.width*this.context.$model.scaleX)}},{key:"getCurrentHeight",value:function(){return Math.abs(this.context.$model.height*this.context.$model.scaleY)}},{key:"getStage",value:function(){if(this.stage)return this.stage;var t=this;if("stage"!=t.type){for(;t.parent&&"stage"!=(t=t.parent).type;);if("stage"!==t.type)return!1}return this.stage=t,t}},{key:"localToGlobal",value:function(t,e){!t&&(t=new j(0,0));var i=this.getConcatenatedMatrix(e);if(null==i)return j(0,0);var n=new q(1,0,0,1,t.x,t.y);return n.concat(i),new j(n.tx,n.ty)}},{key:"globalToLocal",value:function(t,e){if(!t&&(t=new j(0,0)),"stage"==this.type)return t;var i=this.getConcatenatedMatrix(e);if(null==i)return new j(0,0);i.invert();var n=new q(1,0,0,1,t.x,t.y);return n.concat(i),new j(n.tx,n.ty)}},{key:"localToTarget",value:function(t,e){var i=localToGlobal(t);return e.globalToLocal(i)}},{key:"getConcatenatedMatrix",value:function(t){for(var e=new q,i=this;null!=i;i=i.parent)if(e.concat(i._transform),!i.parent||t&&i.parent&&i.parent==t||i.parent&&"stage"==i.parent.type)return e;return e}},{key:"setEventEnable",value:function(t){return!!g.isBoolean(t)&&(this._eventEnabled=t,!0)}},{key:"getIndex",value:function(){if(this.parent)return g.indexOf(this.parent.children,this)}},{key:"toBack",value:function(t){if(this.parent){var e=this.getIndex(),i=0;if(g.isNumber(t)){if(0==t)return;i=e-t}var n=this.parent.children.splice(e,1)[0];i<0&&(i=0),this.parent.addChildAt(n,i)}}},{key:"toFront",value:function(t){if(this.parent){var e=this.getIndex(),i=this.parent.children.length,n=i;if(g.isNumber(t)){if(0==t)return;n=e+t+1}var a=this.parent.children.splice(e,1)[0];n>i&&(n=i),this.parent.addChildAt(a,n-1)}}},{key:"_updateTransform",value:function(){var t=new q;t.identity();var e=this.context;1===e.scaleX&&1===e.scaleY||(((i=new j(e.scaleOrigin)).x||i.y)&&t.translate(-i.x,-i.y),t.scale(e.scaleX,e.scaleY),(i.x||i.y)&&t.translate(i.x,i.y));var i,n=e.rotation;n&&(((i=new j(e.rotateOrigin)).x||i.y)&&t.translate(-i.x,-i.y),t.rotate(n%360*Math.PI/180),(i.x||i.y)&&t.translate(i.x,i.y));if(this.xyToInt&&!this.moveing){var a=parseInt(e.x),r=parseInt(e.y);parseInt(e.lineWidth,10)%2==1&&e.strokeStyle&&(a+=.5,r+=.5)}else a=e.x,r=e.y;return 0==a&&0==r||t.translate(a,r),this._transform=t,t}},{key:"setWorldTransform",value:function(){var t=new q;return t.concat(this._transform),this.parent&&t.concat(this.parent.worldTransform),this.worldTransform=t,this.worldTransform}},{key:"getChildInPoint",value:function(t){var e=!1,i=t.x,n=t.y;if(this.worldTransform){var a=this.worldTransform.clone().invert(),r=[i*N.RESOLUTION,n*N.RESOLUTION];i=(r=a.mulVector(r))[0],n=r[1]}if(this.graphics&&(e=this.containsPoint({x:i,y:n})),"text"==this.type){var s=this.getRect();return!(!s.width||!s.height)&&(e=i>=s.x&&i<=s.x+s.width&&(s.height>=0&&n>=s.y&&n<=s.y+s.height||s.height<0&&n<=s.y&&n>=s.y+s.height))}return e}},{key:"containsPoint",value:function(t){for(var e=!1,i=0;i<this.graphics.graphicsData.length;++i){var n=this.graphics.graphicsData[i];if(n.shape){if(n.hasFill()&&n.shape.contains(t.x,t.y)&&(e=!0))break;if(n.hasLine()&&n.shape.points&&(e=dt(n,t.x,t.y)))break}}return e}},{key:"animate",value:function(t,e,i){if(i||(i=this.context),i){var n=t,a=null;for(var r in n)g.isObject(n[r])?this.animate(n[r],g.extend({},e),i[r]):isNaN(n[r])&&""!==n[r]&&null!==n[r]&&void 0!==n[r]?delete n[r]:(a||(a={}),a[r]=i[r]);if(a){!e&&(e={}),e.from=a,e.to=n;var s,o=this,l=function(){};e.onUpdate&&(l=e.onUpdate),e.onUpdate=function(t){if(!i&&s)return at.destroyTween(s),void(s=null);for(var e in t)i[e]=t[e];l.apply(o,[t])};var h=function(){};return e.onComplete&&(h=e.onComplete),e.onComplete=function(t){h.apply(o,arguments)},e.desc="tweenType:DisplayObject.animate__id:"+this.id+"__objectType:"+this.type,s=at.registTween(e)}}}},{key:"remove",value:function(){this.parent&&(this.parent.removeChild(this),this.parent=null)}},{key:"destroy",value:function(){this._destroy()}},{key:"_destroy",value:function(){this.remove(),this.fire("destroy"),this.context=null,delete this.context}}]),e}(),pt=function(t){function e(t){c(this,e);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.children=[],i.mouseChildren=[],i._eventEnabled=!0,i}return f(e,ft),d(e,[{key:"addChild",value:function(t,e){if(t)return-1!=this.getChildIndex(t)?(t.parent=this,t):(t.parent&&t.parent.removeChild(t),void 0===e&&(e=this.children.length),this.children.splice(e,0,t),t.parent=this,this.heartBeat&&this.heartBeat({convertType:"children",target:t,src:this}),this._afterAddChild&&this._afterAddChild(t),t)}},{key:"addChildAt",value:function(t,e){return this.addChild(t,e)}},{key:"removeChild",value:function(t){return this.removeChildAt(g.indexOf(this.children,t))}},{key:"removeChildAt",value:function(t){if(t<0||t>this.children.length-1)return!1;var e=this.children[t];return null!=e&&(e.parent=null),this.children.splice(t,1),this.heartBeat&&this.heartBeat({convertType:"children",target:e,src:this}),this._afterDelChild&&this._afterDelChild(e,t),e}},{key:"removeChildById",value:function(t){for(var e=0,i=this.children.length;e<i;e++)if(this.children[e].id==t)return this.removeChildAt(e);return!1}},{key:"removeAllChildren",value:function(){for(;this.children.length>0;)this.removeChildAt(0)}},{key:"destroy",value:function(){for(var t=0,e=this.children.length;t<e;t++)this.getChildAt(t).destroy(),t--,e--;this._destroy()}},{key:"getChildById",value:function(t,e){if(e)return null;for(var i=0,n=this.children.length;i<n;i++)if(this.children[i].id==t)return this.children[i];return null}},{key:"getChildAt",value:function(t){return t<0||t>this.children.length-1?null:this.children[t]}},{key:"getChildIndex",value:function(t){return g.indexOf(this.children,t)}},{key:"setChildIndex",value:function(t,e){if(t.parent==this){var i=g.indexOf(this.children,t);e!=i&&(this.children.splice(i,1),this.children.splice(e,0,t))}}},{key:"getNumChildren",value:function(){return this.children.length}},{key:"getObjectsUnderPoint",value:function(t,i){for(var n=[],a=this.children.length-1;a>=0;a--){var r=this.children[a];if(null!=r&&(r._eventEnabled||r.dragEnabled)&&r.context.$model.visible)if(r instanceof e){if(r.mouseChildren&&r.getNumChildren()>0){var s=r.getObjectsUnderPoint(t);s.length>0&&(n=n.concat(s))}}else if(r.getChildInPoint(t)&&(n.push(r),null!=i&&!isNaN(i)&&n.length==i))return n}return n}}]),e}(),gt=function(t){function e(t){c(this,e),t.type="stage";var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canvas=null,i.ctx=null,i.stageRending=!1,i._isReady=!1,i}return f(e,pt),d(e,[{key:"init",value:function(){}},{key:"initStage",value:function(t,e,i){this.canvas=t;var n=this.context;n.width=e,n.height=i,n.scaleX=G._devicePixelRatio,n.scaleY=G._devicePixelRatio,this._isReady=!0}},{key:"heartBeat",value:function(t){this._isReady&&(t||(t={}),t.stage=this,this.parent&&this.parent.heartBeat(t))}}]),e}(),vt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot.UNKNOWN,i=arguments[1],n=arguments[2];if(c(this,t),this.type=e,this.app=i,n)for(var a in N.RENDER_OPTIONS)void 0===n[a]&&(n[a]=N.RENDER_OPTIONS[a]);else n=N.RENDER_OPTIONS;this.options=n,this.requestAid=null,this._heartBeat=!1,this._preRenderTime=0}return d(t,[{key:"startEnter",value:function(){var t=this;t.requestAid||(t.requestAid=at.registFrame({id:"enterFrame",task:function(){t.enterFrame.apply(t)}}))}},{key:"enterFrame",value:function(){this.requestAid=null,G.now=(new Date).getTime(),this._heartBeat&&(this.app.children.length&&this.render(this.app),this._heartBeat=!1,this._preRenderTime=(new Date).getTime())}},{key:"_convertCanvax",value:function(t){g.each(this.app.children,function(e){e.context[t.name]=t.value})}},{key:"heartBeat",value:function(t){var e=this;if(t){if("context"==t.convertType){var i=t.stage,n=t.shape;t.name,t.value,t.preValue;if("canvax"==n.type)e._convertCanvax(t);else if(e.app.convertStages[i.id]||(e.app.convertStages[i.id]={stage:i,convertShapes:{}}),n){if(e.app.convertStages[i.id].convertShapes[n.id])return;e.app.convertStages[i.id].convertShapes[n.id]={shape:n,convertType:t.convertType}}}if("children"==t.convertType){var a=t.target;((i=t.src.getStage())||"stage"==a.type)&&(i=i||a,e.app.convertStages[i.id]||(e.app.convertStages[i.id]={stage:i,convertShapes:{}}))}if(!t.convertType){i=t.stage;e.app.convertStages[i.id]||(e.app.convertStages[i.id]={stage:i,convertShapes:{}})}}else g.each(e.app.children,function(t,i){e.app.convertStages[t.id]={stage:t,convertShapes:{}}});e._heartBeat?e._heartBeat=!0:(e._heartBeat=!0,e.startEnter())}}]),t}(),yt=function(){function t(e){c(this,t),this.renderer=e}return d(t,[{key:"render",value:function(t,e,i,n){this.renderer;for(var a=t.graphics.graphicsData,r=e.ctx,s=0;s<a.length;s++){var o=a[s],l=o.shape,h=o.fillStyle,u=o.strokeStyle,c=o.hasFill()&&o.fillAlpha&&!n,d=o.hasLine()&&o.lineAlpha&&!n;if(r.lineWidth=o.lineWidth,o.type===lt.POLY)r.beginPath(),this.renderPolygon(l.points,l.closed,r,n),c&&(r.globalAlpha=o.fillAlpha*i,r.fillStyle=h,r.fill()),d&&(r.globalAlpha=o.lineAlpha*i,r.strokeStyle=u,r.stroke());else if(o.type===lt.RECT)n&&r.rect(l.x,l.y,l.width,l.height),c&&(r.globalAlpha=o.fillAlpha*i,r.fillStyle=h,r.fillRect(l.x,l.y,l.width,l.height)),d&&(r.globalAlpha=o.lineAlpha*i,r.strokeStyle=u,r.strokeRect(l.x,l.y,l.width,l.height));else if(o.type===lt.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),c&&(r.globalAlpha=o.fillAlpha*i,r.fillStyle=h,r.fill()),d&&(r.globalAlpha=o.lineAlpha*i,r.strokeStyle=u,r.stroke());else if(o.type===lt.ELIP){var f=2*l.width,p=2*l.height,g=l.x-f/2,v=l.y-p/2;r.beginPath();var y=f/2*.5522848,_=p/2*.5522848,x=g+f,m=v+p,b=g+f/2,w=v+p/2;r.moveTo(g,w),r.bezierCurveTo(g,w-_,b-y,v,b,v),r.bezierCurveTo(b+y,v,x,w-_,x,w),r.bezierCurveTo(x,w+_,b+y,m,b,m),r.bezierCurveTo(b-y,m,g,w+_,g,w),r.closePath(),c&&(r.globalAlpha=o.fillAlpha*i,r.fillStyle=h,r.fill()),d&&(r.globalAlpha=o.lineAlpha*i,r.strokeStyle=u,r.stroke())}}}},{key:"renderPolygon",value:function(t,e,i,n){i.moveTo(t[0],t[1]);for(var a=1;a<t.length/2;++a)i.lineTo(t[2*a],t[2*a+1]);(e||n)&&i.closePath()}}]),t}(),_t=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,ot.CANVAS,t,i));return n.CGR=new yt(n),n}return f(e,vt),d(e,[{key:"render",value:function(t){var e=this;e.app=t,g.each(g.values(t.convertStages),function(t){e.renderStage(t.stage)}),t.convertStages={}}},{key:"renderStage",value:function(t){t.ctx||(t.ctx=t.canvas.getContext("2d")),t.stageRending=!0,t.setWorldTransform(),this._clear(t),this._render(t,t,t.context.globalAlpha),t.stageRending=!1}},{key:"_render",value:function(t,e,i){var n=t.ctx;if(n){var a=e.context.$model;if((!e.worldTransform||e._transformChange||e.parent&&e.parent._transformChange)&&(e.setWorldTransform(),e._transformChange=!0),i*=a.globalAlpha,a.visible&&!e.isClip){n.setTransform.apply(n,e.worldTransform.toArray());var r=!1;if(e.clip&&e.clip.graphics){var s=e.clip;n.save(),r=!0,(!s.worldTransform||s._transformChange||s.parent._transformChange)&&(s.setWorldTransform(),s._transformChange=!0),n.setTransform.apply(n,s.worldTransform.toArray()),s.graphics.graphicsData.length||s._draw(s.graphics),this.CGR.render(s,t,i,r),s._transformChange=!1,n.clip()}if(e.graphics&&(e.graphics.graphicsData.length||e._draw(e.graphics),i&&this.CGR.render(e,t,i)),"text"==e.type&&e.render(n,i),e.children)for(var o=0,l=e.children.length;o<l;o++)this._render(t,e.children[o],i);e._transformChange=!1,r&&n.restore()}}}},{key:"_clear",value:function(t){var e=t.ctx;e.setTransform.apply(e,t.worldTransform.toArray()),e.clearRect(0,0,this.app.width,this.app.height)}}]),e}();var xt=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e),t.type="canvax";var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n._cid=(new Date).getTime()+"_"+Math.floor(100*Math.random()),n.el=W.query(t.el),n.width=parseInt("width"in t||n.el.offsetWidth,10),n.height=parseInt("height"in t||n.el.offsetHeight,10);var a=W.createView(n.width,n.height,n._cid);return n.view=a.view,n.stageView=a.stageView,n.domView=a.domView,n.el.innerHTML="",n.el.appendChild(n.view),n.viewOffset=W.offset(n.view),n.lastGetRO=0,n.webGL=t.webGL,n.renderer=function(t,e){return new _t(t,e)}(n,i),n.event=null,n.preventDefault=!0,!1===t.preventDefault&&(n.preventDefault=!1),n.convertStages={},n.context.$model.width=n.width,n.context.$model.height=n.height,n._bufferStage=null,n._creatHoverStage(),n.worldTransform=(new q).identity(),n}return f(e,pt),d(e,[{key:"registEvent",value:function(t){return this.event=new V(this,t),this.event.init(),this.event}},{key:"destroy",value:function(){for(var t=0,e=this.children.length;t<e;t++){var i=this.children[t];i.destroy(),i.canvas=null,i.ctx=null,i=null,t--,e--}this.view.removeChild(this.stageView),this.view.removeChild(this.domView),this.el.removeChild(this.view),this.el.innerHTML="",this.event=null,this._bufferStage=null}},{key:"resize",value:function(t){this.width=parseInt(t&&"width"in t||this.el.offsetWidth,10),this.height=parseInt(t&&"height"in t||this.el.offsetHeight,10),this.viewOffset=W.offset(this.view),this.context.$model.width=this.width,this.context.$model.height=this.height;var e=this;g.each(this.children,function(t,i){var n;t.context.$model.width=e.width,t.context.$model.height=e.height,(n=t.canvas).style.width=e.width+"px",n.style.height=e.height+"px",n.setAttribute("width",e.width*G._devicePixelRatio),n.setAttribute("height",e.height*G._devicePixelRatio)}),this.stageView.style.width=this.width+"px",this.stageView.style.height=this.height+"px",this.domView.style.width=this.width+"px",this.domView.style.height=this.height+"px",this.heartBeat()}},{key:"getHoverStage",value:function(){return this._bufferStage}},{key:"_creatHoverStage",value:function(){this._bufferStage=new gt({id:"activCanvas"+(new Date).getTime(),context:{width:this.context.$model.width,height:this.context.$model.height}}),this._bufferStage._eventEnabled=!1,this.addChild(this._bufferStage)}},{key:"updateViewOffset",value:function(){var t=(new Date).getTime();t-this.lastGetRO>1e3&&(this.viewOffset=W.offset(this.view),this.lastGetRO=t)}},{key:"_afterAddChild",value:function(t,e){var i;i=t.canvas?t.canvas:W.createCanvas(this.context.$model.width,this.context.$model.height,t.id),1==this.children.length?this.stageView.appendChild(i):this.children.length>1&&(void 0===e?this.stageView.insertBefore(i,this._bufferStage.canvas):e>=this.children.length-1?this.stageView.appendChild(i):this.stageView.insertBefore(i,this.children[e].canvas)),G.initElement(i),t.initStage(i,this.context.$model.width,this.context.$model.height)}},{key:"_afterDelChild",value:function(t){this.stageView.removeChild(t.canvas)}},{key:"heartBeat",value:function(t){this.children.length>0&&this.renderer.heartBeat(t)}},{key:"toDataURL",value:function(){var t=W.createCanvas(this.width,this.height,"curr_base64_canvas"),e=t.getContext("2d");return g.each(this.children,function(t){e.drawImage(t.canvas,0,0)}),t.toDataURL()}}]),e}(),mt=function(t){function e(t){return c(this,e),(t=G.checkOpt(t)).type="sprite",p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,pt),e}(),bt=function(){function t(e,i,n,a,r,s){c(this,t),this.lineWidth=e,this.strokeStyle=i,this.lineAlpha=n,this.fillStyle=a,this.fillAlpha=r,this.shape=s,this.type=s.type,this.holes=[],this.fill=!0,this.line=!0}return d(t,[{key:"clone",value:function(){var e=new t(this.lineWidth,this.strokeStyle,this.lineAlpha,this.fillStyle,this.fillAlpha,this.shape);return e.fill=this.fill,e.line=this.line,e}},{key:"addHole",value:function(t){this.holes.push(t)}},{key:"synsStyle",value:function(t){this.line&&(this.lineWidth=t.lineWidth,this.strokeStyle=t.strokeStyle,this.lineAlpha=t.lineAlpha),this.fill&&(this.fillStyle=t.fillStyle,this.fillAlpha=t.fillAlpha)}},{key:"hasFill",value:function(){return this.fillStyle&&this.fill&&void 0!==this.shape.closed&&this.shape.closed}},{key:"hasLine",value:function(){return this.strokeStyle&&this.lineWidth&&this.line}},{key:"destroy",value:function(){this.shape=null,this.holes=null}}]),t}(),wt={},kt={},At=Array.prototype.join;function St(t,e,i,n,a,r,s){var o=At.call(arguments);if(wt[o])return wt[o];var l=Math.PI,h=s*l/180,u=Math.sin(h),c=Math.cos(h),d=0,f=0,p=-c*t*.5-u*e*.5,g=-c*e*.5+u*t*.5,v=(i=Math.abs(i))*i,y=(n=Math.abs(n))*n,_=g*g,x=p*p,m=v*y-v*_-y*x,b=0;if(m<0){var w=Math.sqrt(1-m/(v*y));i*=w,n*=w}else b=(a===r?-1:1)*Math.sqrt(m/(v*_+y*x));var k=b*i*g/n,A=-b*n*p/i,S=c*k-u*A+.5*t,T=u*k+c*A+.5*e,C=Ct(1,0,(p-k)/i,(g-A)/n),P=Ct((p-k)/i,(g-A)/n,(-p-k)/i,(-g-A)/n);0===r&&P>0?P-=2*l:1===r&&P<0&&(P+=2*l);for(var L=Math.ceil(Math.abs(P/l*2)),D=[],O=P/L,I=8/3*Math.sin(O/4)*Math.sin(O/4)/Math.sin(O/2),E=C+O,M=0;M<L;M++)D[M]=Tt(C,E,c,u,i,n,S,T,I,d,f),d=D[M][4],f=D[M][5],C=E,E+=O;return wt[o]=D,D}function Tt(t,e,i,n,a,r,s,o,l,h,u){var c=At.call(arguments);if(kt[c])return kt[c];var d=Math.cos(t),f=Math.sin(t),p=Math.cos(e),g=Math.sin(e),v=i*a*p-n*r*g+s,y=n*a*p+i*r*g+o,_=h+l*(-i*a*f-n*r*d),x=u+l*(-n*a*f+i*r*d),m=v+l*(i*a*g+n*r*p),b=y+l*(n*a*g-i*r*p);return kt[c]=[_,x,m,b,v,y],kt[c]}function Ct(t,e,i,n){var a=Math.atan2(e,t),r=Math.atan2(n,i);return r>=a?r-a:2*Math.PI-(a-r)}var Pt=function(t,e,i,n){for(var a=n[0],r=n[1],s=n[2],o=n[3],l=n[4],h=[[],[],[],[]],u=St(n[5]-e,n[6]-i,a,r,o,l,s),c=0,d=u.length;c<d;c++)h[c][0]=u[c][0]+e,h[c][1]=u[c][1]+i,h[c][2]=u[c][2]+e,h[c][3]=u[c][3]+i,h[c][4]=u[c][4]+e,h[c][5]=u[c][5]+i,t.bezierCurveTo.apply(t,h[c])},Lt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;c(this,t),this.x=e,this.y=i,this.width=n,this.height=a,this.type=lt.RECT,this.closed=!0}return d(t,[{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}},{key:"contains",value:function(t,e){return!(this.height*e<0||this.width*t<0)&&(t>=this.x&&t<=this.x+this.width&&(this.height>=0&&e>=this.y&&e<=this.y+this.height||this.height<0&&e<=this.y&&e>=this.y+this.height))}}]),t}(),Dt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;c(this,t),this.x=e,this.y=i,this.radius=n,this.type=lt.CIRC,this.closed=!0}return d(t,[{key:"clone",value:function(){return new t(this.x,this.y,this.radius)}},{key:"contains",value:function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,n=this.x-t,a=this.y-e;return(n*=n)+(a*=a)<=i}},{key:"getBounds",value:function(){return new Lt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}]),t}(),Ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;c(this,t),this.x=e,this.y=i,this.width=n,this.height=a,this.type=lt.ELIP,this.closed=!0}return d(t,[{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,n=(e-this.y)/this.height;return(i*=i)+(n*=n)<=1}},{key:"getBounds",value:function(){return new Lt(this.x-this.width,this.y-this.height,this.width,this.height)}}]),t}(),It=function(){function t(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];c(this,t);var a=i[0];if(Array.isArray(a)&&(i=a),a&&"x"in a&&"y"in a){for(var r=[],s=0,o=i.length;s<o;s++)r.push(i[s].x,i[s].y);i=r}this.closed=!0,this.points=i,this.type=lt.POLY}return d(t,[{key:"clone",value:function(){return new t(this.points.slice())}},{key:"close",value:function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1]),this.closed=!0}},{key:"contains",value:function(t,e){return this._isInsidePolygon_WindingNumber(t,e)}},{key:"_isInsidePolygon_WindingNumber",value:function(t,e){for(var i,n=this.points,a=0,r=n[1]>e,s=3;s<n.length;s+=2)if((i=r)!=(r=n[s]>e)){var o=(i?1:0)-(r?1:0);o*((n[s-3]-t)*(n[s-0]-e)-(n[s-2]-e)*(n[s-1]-t))>0&&(a+=o)}return a}}]),t}();var Et=function(){function t(e){c(this,t),this.lineWidth=1,this.strokeStyle=null,this.lineAlpha=1,this.fillStyle=null,this.fillAlpha=1,this.graphicsData=[],this.currentPath=null,this.dirty=0,this.clearDirty=0,this._webGL={},this.worldAlpha=1,this.tint=16777215,this.Bound={x:0,y:0,width:0,height:0}}return d(t,[{key:"setStyle",value:function(t){var e=t.$model;this.lineWidth=e.lineWidth,this.strokeStyle=e.strokeStyle,this.lineAlpha=e.lineAlpha*e.globalAlpha,this.fillStyle=e.fillStyle,this.fillAlpha=e.fillAlpha*e.globalAlpha;var i=this;this.graphicsData.length&&g.each(this.graphicsData,function(t,e){t.synsStyle(i)})}},{key:"clone",value:function(){var e=new t;e.dirty=0;for(var i=0;i<this.graphicsData.length;++i)e.graphicsData.push(this.graphicsData[i].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e}},{key:"moveTo",value:function(t,e){var i=new It([t,e]);return i.closed=!1,this.drawShape(i),this}},{key:"lineTo",value:function(t,e){return this.currentPath?(this.currentPath.shape.points.push(t,e),this.dirty++):this.moveTo(0,0),this}},{key:"quadraticCurveTo",value:function(t,e,i,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,r=0,s=0;0===a.length&&this.moveTo(0,0);for(var o=a[a.length-2],l=a[a.length-1],h=1;h<=20;++h){var u=h/20;r=o+(t-o)*u,s=l+(e-l)*u,a.push(r+(t+(i-t)*u-r)*u,s+(e+(n-e)*u-s)*u)}return this.dirty++,this}},{key:"bezierCurveTo",value:function(t,e,i,n,a,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,o=s[s.length-2],l=s[s.length-1];return s.length-=2,function(t,e,i,n,a,r,s,o){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],h=0,u=0,c=0,d=0,f=0;l.push(t,e);for(var p=1,g=0;p<=20;++p)c=(u=(h=1-(g=p/20))*h)*h,f=(d=g*g)*g,l.push(c*t+3*u*g*i+3*h*d*a+f*s,c*e+3*u*g*n+3*h*d*r+f*o)}(o,l,t,e,i,n,a,r,s),this.dirty++,this}},{key:"arcTo",value:function(t,e,i,n,a){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var r=this.currentPath.shape.points,s=r[r.length-2],o=r[r.length-1]-e,l=s-t,h=n-e,u=i-t,c=Math.abs(o*u-l*h);if(c<1e-8||0===a)r[r.length-2]===t&&r[r.length-1]===e||r.push(t,e);else{var d=o*o+l*l,f=h*h+u*u,p=o*h+l*u,g=a*Math.sqrt(d)/c,v=a*Math.sqrt(f)/c,y=g*p/d,_=v*p/f,x=g*u+v*l,m=g*h+v*o,b=l*(v+y),w=o*(v+y),k=u*(g+_),A=h*(g+_),S=Math.atan2(w-m,b-x),T=Math.atan2(A-m,k-x);this.arc(x+t,m+e,a,S,T,l*h>u*o)}return this.dirty++,this}},{key:"arc",value:function(t,e,i,n,a){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===a)return this;!r&&a<=n?a+=2*Math.PI:r&&n<=a&&(n+=2*Math.PI);var s=a-n,o=48*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var l=t+Math.cos(n)*i,h=e+Math.sin(n)*i,u=this.currentPath?this.currentPath.shape.points:null;u?u[u.length-2]===l&&u[u.length-1]===h||u.push(l,h):(this.moveTo(l,h),u=this.currentPath.shape.points);for(var c=s/(2*o),d=2*c,f=Math.cos(c),p=Math.sin(c),g=o-1,v=g%1/g,y=0;y<=g;++y){var _=c+n+d*(y+v*y),x=Math.cos(_),m=-Math.sin(_);u.push((f*x+p*m)*i+t,(f*-m+p*x)*i+e)}return this.dirty++,this}},{key:"drawRect",value:function(t,e,i,n){return this.drawShape(new Lt(t,e,i,n)),this}},{key:"drawCircle",value:function(t,e,i){return this.drawShape(new Dt(t,e,i)),this}},{key:"drawEllipse",value:function(t,e,i,n){return this.drawShape(new Ot(t,e,i,n)),this}},{key:"drawPolygon",value:function(t){var e=t,i=!0;if(e instanceof It&&(i=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var a=new It(e);return a.closed=i,this.drawShape(a),this}},{key:"clear",value:function(){return this.graphicsData.length>0&&(this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this}},{key:"drawShape",value:function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.beginPath();var e=new bt(this.lineWidth,this.strokeStyle,this.lineAlpha,this.fillStyle,this.fillAlpha,t);return this.graphicsData.push(e),e.type===lt.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e}},{key:"beginPath",value:function(){this.currentPath=null}},{key:"closePath",value:function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this}},{key:"updateLocalBounds",value:function(){var t=1/0,e=-1/0,i=1/0,n=-1/0;if(this.graphicsData.length)for(var a=0,r=0,s=0,o=0,l=0,h=0;h<this.graphicsData.length;h++){var u=this.graphicsData[h],c=u.type,d=u.lineWidth;if(a=u.shape,c===lt.RECT||c===lt.RREC)r=a.x-d/2,s=a.y-d/2,t=r<t?r:t,e=r+(o=a.width+d)>e?r+o:e,i=s<i?s:i,n=s+(l=a.height+d)>n?s+l:n;else if(c===lt.CIRC)r=a.x,s=a.y,t=r-(o=a.radius+d/2)<t?r-o:t,e=r+o>e?r+o:e,i=s-(l=a.radius+d/2)<i?s-l:i,n=s+l>n?s+l:n;else if(c===lt.ELIP)r=a.x,s=a.y,t=r-(o=a.width+d/2)<t?r-o:t,e=r+o>e?r+o:e,i=s-(l=a.height+d/2)<i?s-l:i,n=s+l>n?s+l:n;else for(var f=a.points,p=0,g=0,v=0,y=0,_=0,x=0,m=0,b=0,w=0;w+2<f.length;w+=2)r=f[w],s=f[w+1],p=f[w+2],g=f[w+3],v=Math.abs(p-r),y=Math.abs(g-s),l=d,(o=Math.sqrt(v*v+y*y))<1e-9||(t=(m=(p+r)/2)-(_=(l/o*y+v)/2)<t?m-_:t,e=m+_>e?m+_:e,i=(b=(g+s)/2)-(x=(l/o*v+y)/2)<i?b-x:i,n=b+x>n?b+x:n)}else t=0,e=0,i=0,n=0;return this.Bound={x:t,y:i,width:e-t,height:n-i},this}},{key:"getBound",value:function(){return this.updateLocalBounds().Bound}},{key:"destroy",value:function(t){for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var i in this._webGL)for(var n=0;n<this._webGL[i].data.length;++n)this._webGL[i].data[n].destroy();this.graphicsData=null,this.currentPath=null,this._webGL=null}}]),t}(),Mt=function(t){function e(t){c(this,e);var i={cursor:(t=G.checkOpt(t)).context.cursor||"default",fillAlpha:t.context.fillAlpha||1,fillStyle:t.context.fillStyle||null,lineCap:t.context.lineCap||"round",lineJoin:t.context.lineJoin||"round",miterLimit:t.context.miterLimit||null,lineAlpha:t.context.lineAlpha||1,strokeStyle:t.context.strokeStyle||null,lineType:t.context.lineType||"solid",lineWidth:t.context.lineWidth||null},n=g.extend(!0,i,t.context);t.context=n,void 0===t.id&&void 0!==t.type&&(t.id=G.createId(t.type));var a=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a._hoverClass=!1,a.hoverClone=!0,a.pointChkPriority=!0,a._eventEnabled=!1,a.dragEnabled=t.dragEnabled||!1,a._dragDuplicate=null,a.type=a.type||"shape",a.initCompProperty(t),a.isClone?a.graphics=null:(a.graphics=new Et,a._draw(a.graphics)),a}return f(e,ft),d(e,[{key:"_draw",value:function(t){0==t.graphicsData.length&&(t.setStyle(this.context),this.draw(t))}},{key:"draw",value:function(){}},{key:"clearGraphicsData",value:function(){this.graphics.clear()}},{key:"$watch",value:function(t,e,i){g.indexOf(ut,t)>-1&&this.graphics.setStyle(this.context),this.watch(t,e,i)}},{key:"initCompProperty",value:function(t){for(var e in t)"id"!=e&&"context"!=e&&(this[e]=t[e])}},{key:"getBound",value:function(){return this.graphics.updateLocalBounds().Bound}},{key:"dashedLineTo",value:function(t,e,i,n,a,r){r=void 0===r?3:r,r=Math.max(r,this.context.$model.lineWidth);for(var s=n-e,o=a-i,l=Math.floor(Math.sqrt(s*s+o*o)/r),h=0;h<l;++h){var u=parseInt(e+s/l*h),c=parseInt(i+o/l*h);t[h%2==0?"moveTo":"lineTo"](u,c),h==l-1&&h%2==0&&t.lineTo(n,a)}}}]),e}(),Ft=function(t){function e(t,i){c(this,e),i.type="text",null==t&&(t=""),i.context=g.extend({font:"",fontSize:13,fontWeight:"normal",fontFamily:",sans-serif",textBaseline:"top",textAlign:"left",textDecoration:null,fillStyle:"blank",strokeStyle:null,lineWidth:0,lineHeight:1.2,backgroundColor:null,textBackgroundColor:null},i.context);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n._reNewline=/\r?\n/,n.fontProperts=["fontStyle","fontVariant","fontWeight","fontSize","fontFamily"],n.context.font=n._getFontDeclaration(),n.text=t.toString(),n.context.width=n.getTextWidth(),n.context.height=n.getTextHeight(),n}return f(e,ft),d(e,[{key:"$watch",value:function(t,e,i){g.indexOf(this.fontProperts,t)>=0&&(this.context[t]=e,this.context.font=this._getFontDeclaration(),this.context.width=this.getTextWidth(),this.context.height=this.getTextHeight())}},{key:"_setContextStyle",value:function(t,e,i){for(var n in e)"textBaseline"!=n&&n in t&&(e[n]||g.isNumber(e[n]))&&("globalAlpha"==n?t.globalAlpha=i:t[n]=e[n])}},{key:"render",value:function(t,e){this._renderText(t,this._getTextLines(),e)}},{key:"resetText",value:function(t){this.text=t.toString(),this.heartBeat()}},{key:"getTextWidth",value:function(){var t=0;return G._pixelCtx&&(G._pixelCtx.save(),G._pixelCtx.font=this.context.$model.font,t=this._getTextWidth(G._pixelCtx,this._getTextLines()),G._pixelCtx.restore()),t}},{key:"getTextHeight",value:function(){return this._getTextHeight(G._pixelCtx,this._getTextLines())}},{key:"_getTextLines",value:function(){return this.text.split(this._reNewline)}},{key:"_renderText",value:function(t,e,i){t&&(t.save(),this._setContextStyle(t,this.context.$model,i),this._renderTextStroke(t,e),this._renderTextFill(t,e),t.restore())}},{key:"_getFontDeclaration",value:function(){var t=this,e=[];return g.each(this.fontProperts,function(i){var n=t.context[i];"fontSize"==i&&(n=parseFloat(n)+"px"),n&&e.push(n)}),e.join(" ")}},{key:"_renderTextFill",value:function(t,e){if(this.context.$model.fillStyle){this._boundaries=[];for(var i=0,n=0,a=e.length;n<a;n++){i+=this._getHeightOfLine(t,n,e),this._renderTextLine("fillText",t,e[n],0,this._getTopOffset()+i,n)}}}},{key:"_renderTextStroke",value:function(t,e){if(t&&this.context.$model.strokeStyle&&this.context.$model.lineWidth){var i=0;t.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),supportsLineDash&&t.setLineDash(this.strokeDashArray)),t.beginPath();for(var n=0,a=e.length;n<a;n++){i+=this._getHeightOfLine(t,n,e),this._renderTextLine("strokeText",t,e[n],0,this._getTopOffset()+i,n)}t.closePath(),t.restore()}}},{key:"_renderTextLine",value:function(t,e,i,n,a,r){if(a-=this._getHeightOfLine()/4,"justify"===this.context.$model.textAlign){var s=e.measureText(i).width,o=this.context.$model.width;if(o>s)for(var l=i.split(/\s+/),h=(o-e.measureText(i.replace(/\s+/g,"")).width)/(l.length-1),u=0,c=0,d=l.length;c<d;c++)this._renderChars(t,e,l[c],n+u,a,r),u+=e.measureText(l[c]).width+h;else this._renderChars(t,e,i,n,a,r)}else this._renderChars(t,e,i,n,a,r)}},{key:"_renderChars",value:function(t,e,i,n,a){e[t](i,0,a)}},{key:"_getHeightOfLine",value:function(){return this.context.$model.fontSize*this.context.$model.lineHeight}},{key:"_getTextWidth",value:function(t,e){for(var i=t.measureText(e[0]||"|").width,n=1,a=e.length;n<a;n++){var r=t.measureText(e[n]).width;r>i&&(i=r)}return i}},{key:"_getTextHeight",value:function(t,e){return this.context.$model.fontSize*e.length*this.context.$model.lineHeight}},{key:"_getTopOffset",value:function(){var t=0;switch(this.context.$model.textBaseline){case"top":t=0;break;case"middle":t=-this.context.$model.height/2;break;case"bottom":t=-this.context.$model.height}return t}},{key:"getRect",value:function(){var t=this.context,e=0,i=0;return"center"==t.textAlign&&(e=-t.width/2),"right"==t.textAlign&&(e=-t.width),"middle"==t.textBaseline&&(i=-t.height/2),"bottom"==t.textBaseline&&(i=-t.height),{x:e,y:i,width:t.width,height:t.height}}}]),e}();function Bt(t,e){var i=0,n=0;if(1==arguments.length&&g.isObject(t)){var a=arguments[0];g.isArray(a)?(i=a[0],n=a[1]):a.hasOwnProperty("x")&&a.hasOwnProperty("y")&&(i=a.x,n=a.y)}this._axes=[i,n]}function Nt(t,e,i,n,a,r,s){var o=.25*(i-t),l=.25*(n-e);return(2*(e-i)+o+l)*s+(-3*(e-i)-2*o-l)*r+o*a+e}Bt.prototype={distance:function(t){var e=this._axes[0]-t._axes[0],i=this._axes[1]-t._axes[1];return Math.sqrt(e*e+i*i)}};var Rt=function(t){var e=t.points,i=t.isLoop,n=t.smoothFilter,a=e.length;if(1==a)return e;for(var r=[],s=0,o=new Bt(e[0]),l=null,h=1;h<a;h++)l=new Bt(e[h]),s+=o.distance(l),o=l;o=null,l=null;var u=s/6;u=u<a?a:u;for(h=0;h<u;h++){var c,d,f,p=h/(u-1)*(i?a:a-1),v=Math.floor(p),y=p-v,_=e[v%a];i?(c=e[(v-1+a)%a],d=e[(v+1)%a],f=e[(v+2)%a]):(c=e[0===v?v:v-1],d=e[v>a-2?a-1:v+1],f=e[v>a-3?a-1:v+2]);var x=y*y,m=y*x,b=[Nt(c[0],_[0],d[0],f[0],y,x,m),Nt(c[1],_[1],d[1],f[1],y,x,m)];g.isFunction(n)&&n(b),r.push(b)}return r},Wt={sin:{},cos:{}},Gt=Math.PI/180;function jt(t,e){var i={points:t};g.isFunction(e)&&(i.smoothFilter=e);var n=Rt(i);return t&&t.length>0&&n.push(t[t.length-1]),n}function Ht(t){return!t||g.isArray(t)&&t.length>=2&&(!g.isNumber(t[0])||!g.isNumber(t[1]))||"x"in t&&!g.isNumber(t.x)||"y"in t&&!g.isNumber(t.y)}var zt={PI:Math.PI,sin:function(t,e){return t=(e?t*Gt:t).toFixed(4),void 0===Wt.sin[t]&&(Wt.sin[t]=Math.sin(t)),Wt.sin[t]},cos:function(t,e){return t=(e?t*Gt:t).toFixed(4),void 0===Wt.cos[t]&&(Wt.cos[t]=Math.cos(t)),Wt.cos[t]},degreeToRadian:function(t){return t*Gt},radianToDegree:function(t){return t/Gt},degreeTo360:function(t){var e=(360+t%360)%360;return 0==e&&0!==t&&(e=360),e},getIsgonPointList:function(t,e){for(var i=[],n=2*Math.PI/t,a=-Math.PI/2,r=0,s=t;r<s;r++)i.push([e*Math.cos(a),e*Math.sin(a)]),a+=n;return i},getSmoothPointList:function(t,e){var i=[],n=t.length,a=[];return g.each(t,function(t,r){Ht(t)?(a.length&&(i=i.concat(jt(a,e)),a=[]),i.push(t)):a.push(t),r==n-1&&a.length&&(i=i.concat(jt(a,e)),a=[])}),i},isNotValibPoint:Ht,isValibPoint:function(t){return!Ht(t)}},$t=function(t){function e(t){c(this,e),t=G.checkOpt(t);var i=g.extend({lineType:null,smooth:!1,pointList:[],smoothFilter:G.__emptyFunc},t.context);!t.isClone&&i.smooth&&(i.pointList=zt.getSmoothPointList(i.pointList,i.smoothFilter)),t.context=i,t.type="brokenline";var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._pointList=i.pointList,n}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"pointList"!=t&&"smooth"!=t&&"lineType"!=t||("pointList"==t&&this.context.smooth&&(this.context.pointList=zt.getSmoothPointList(e,this.context.smoothFilter),this._pointList=e),"smooth"==t&&(this.context.pointList=e?zt.getSmoothPointList(this._pointList,this.context.smoothFilter):this._pointList),this.graphics.clear())}},{key:"draw",value:function(t){for(var e=this.context,i=e.pointList,n=!1,a=0,r=i.length;a<r;a++){var s=i[a],o=i[a+1];if(zt.isValibPoint(s)){if(e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType)if(e.smooth){if(n){t.lineTo(s[0],s[1]),n=!1,a++;continue}t.moveTo(s[0],s[1])}else zt.isValibPoint(o)&&this.dashedLineTo(t,s[0],s[1],o[0],o[1],5)}else n?t.lineTo(s[0],s[1]):t.moveTo(s[0],s[1]);n=!0}else n=!1}return this}}]),e}(),Vt=function(t){function e(t){return c(this,e),t=g.extend(!0,{type:"circle",xyToInt:!1,context:{r:0}},G.checkOpt(t)),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"r"==t&&this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context.$model.r;e<0&&(e=0),t.drawCircle(0,0,e)}}]),e}(),Ut=function(t){function e(t){c(this,e);var i=g.extend({pointList:[],path:""},t.context);return t.context=i,t.__parsePathData=null,t.type="path",p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"path"==t&&this.graphics.clear()}},{key:"_parsePathData",value:function(t){if(this.__parsePathData)return this.__parsePathData;if(!t)return[];this.__parsePathData=[];var e=g.compact(t.replace(/[Mm]/g,"\\r$&").split("\\r")),i=this;return g.each(e,function(t){i.__parsePathData.push(i._parseChildPathData(t))}),this.__parsePathData}},{key:"_parseChildPathData",value:function(t){var e,i=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];for(i=(i=(i=(i=i.replace(/  /g," ")).replace(/ /g,",")).replace(/(\d)-/g,"$1,-")).replace(/,,/g,","),e=0;e<n.length;e++)i=i.replace(new RegExp(n[e],"g"),"|"+n[e]);var a=i.split("|"),r=[],s=0,o=0;for(e=1;e<a.length;e++){var l=a[e],h=l.charAt(0),u=(l=(l=l.slice(1)).replace(new RegExp("e,-","g"),"e-")).split(",");u.length>0&&""===u[0]&&u.shift();for(var c=0;c<u.length;c++)u[c]=parseFloat(u[c]);for(;u.length>0&&!isNaN(u[0]);){var d,f,p,g=null,v=[],y=s,_=o;switch(h){case"l":s+=u.shift(),o+=u.shift(),g="L",v.push(s,o);break;case"L":s=u.shift(),o=u.shift(),v.push(s,o);break;case"m":s+=u.shift(),o+=u.shift(),g="M",v.push(s,o),h="l";break;case"M":s=u.shift(),o=u.shift(),g="M",v.push(s,o),h="L";break;case"h":s+=u.shift(),g="L",v.push(s,o);break;case"H":s=u.shift(),g="L",v.push(s,o);break;case"v":o+=u.shift(),g="L",v.push(s,o);break;case"V":o=u.shift(),g="L",v.push(s,o);break;case"C":v.push(u.shift(),u.shift(),u.shift(),u.shift()),s=u.shift(),o=u.shift(),v.push(s,o);break;case"c":v.push(s+u.shift(),o+u.shift(),s+u.shift(),o+u.shift()),s+=u.shift(),o+=u.shift(),g="C",v.push(s,o);break;case"S":d=s,f=o,"C"===(p=r[r.length-1]).command&&(d=s+(s-p.points[2]),f=o+(o-p.points[3])),v.push(d,f,u.shift(),u.shift()),s=u.shift(),o=u.shift(),g="C",v.push(s,o);break;case"s":d=s,f=o,"C"===(p=r[r.length-1]).command&&(d=s+(s-p.points[2]),f=o+(o-p.points[3])),v.push(d,f,s+u.shift(),o+u.shift()),s+=u.shift(),o+=u.shift(),g="C",v.push(s,o);break;case"Q":v.push(u.shift(),u.shift()),s=u.shift(),o=u.shift(),v.push(s,o);break;case"q":v.push(s+u.shift(),o+u.shift()),s+=u.shift(),o+=u.shift(),g="Q",v.push(s,o);break;case"T":d=s,f=o,"Q"===(p=r[r.length-1]).command&&(d=s+(s-p.points[0]),f=o+(o-p.points[1])),s=u.shift(),o=u.shift(),g="Q",v.push(d,f,s,o);break;case"t":d=s,f=o,"Q"===(p=r[r.length-1]).command&&(d=s+(s-p.points[0]),f=o+(o-p.points[1])),s+=u.shift(),o+=u.shift(),g="Q",v.push(d,f,s,o);break;case"A":y=s,_=o,g="A",v=[u.shift(),u.shift(),u.shift(),u.shift(),u.shift(),s=u.shift(),o=u.shift(),y,_];break;case"a":y=s,_=o,g="A",v=[u.shift(),u.shift(),u.shift(),u.shift(),u.shift(),s+=u.shift(),o+=u.shift(),y,_]}r.push({command:g||h,points:v})}"z"!==h&&"Z"!==h||r.push({command:"z",points:[]})}return r}},{key:"draw",value:function(t){this.__parsePathData=null,this.context.$model.pointList=[];for(var e=this._parsePathData(this.context.$model.path),i=0,n=e.length;i<n;i++)for(var a=0,r=e[i].length;a<r;a++){var s=e[i][a].command,o=e[i][a].points;switch(s){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":Pt(t,o[7],o[8],o);break;case"z":t.closePath()}}return this}}]),e}(),Yt=function(t){function e(t){var i;c(this,e),t=g.extend({type:"droplet",context:{hr:0,vr:0}},G.checkOpt(t));i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.context.$model.path=i.createPath(),i}return f(e,Ut),d(e,[{key:"watch",value:function(t,e,i){"hr"!=t&&"vr"!=t||(this.context.$model.path=this.createPath())}},{key:"createPath",value:function(){var t=this.context.$model,e="M 0 "+t.hr+" C "+t.hr+" "+t.hr+" "+3*t.hr/2+" "+-t.hr/3+" 0 "+-t.vr;return e+=" C "+3*-t.hr/2+" "+-t.hr/3+" "+-t.hr+" "+t.hr+" 0 "+t.hr+"z"}}]),e}(),Xt=function(t){function e(t){return c(this,e),t=g.extend({type:"ellipse",context:{hr:0,vr:0}},G.checkOpt(t)),p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"hr"!=t&&"vr"!=t||this.graphics.clear()}},{key:"draw",value:function(t){t.drawEllipse(0,0,2*this.context.$model.hr,2*this.context.$model.vr)}}]),e}(),qt=function(t){function e(t){c(this,e);var i=g.extend({lineType:null,smooth:!1,pointList:[],smoothFilter:G.__emptyFunc},t.context);if(!t.isClone){i.pointList[0];var n=i.pointList.slice(-1)[0];i.smooth&&(i.pointList.unshift(n),i.pointList=zt.getSmoothPointList(i.pointList))}return t.context=i,t.type="polygon",p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"pointList"!=t&&"smooth"!=t&&"lineType"!=t||this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context,i=e.pointList;if(!(i.length<2)){t.moveTo(i[0][0],i[0][1]);for(var n=1,a=i.length;n<a;n++)t.lineTo(i[n][0],i[n][1]);if(t.closePath(),"dashed"==e.lineType||"dotted"==e.lineType)if(t.currentPath.line=!1,e.smooth)for(var r=0,s=i.length;r<s&&r!=s-1;r++)t.moveTo(i[r][0],i[r][1]),t.lineTo(i[r+1][0],i[r+1][1]),r+=1;else{t.moveTo(i[0][0],i[0][1]);for(n=1,a=i.length;n<a;n++){var o=i[n-1][0],l=i[n][0],h=i[n-1][1],u=i[n][1];this.dashedLineTo(t,o,h,l,u,5)}}t.closePath()}}}]),e}(),Qt=function(t){function e(t){c(this,e);var i=g.extend({pointList:[],r:0,n:0},t.context);return i.pointList=zt.getIsgonPointList(i.n,i.r),t.context=i,t.type="isogon",p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,qt),d(e,[{key:"watch",value:function(t,e,i){"r"!=t&&"n"!=t||(this.context.$model.pointList=zt.getIsgonPointList(this.context.$model.n,this.context.$model.r)),"pointList"!=t&&"smooth"!=t&&"lineType"!=t||this.graphics.clear()}}]),e}(),Zt=function(t){function e(t){c(this,e);var i=g.extend({lineType:null,start:{x:0,y:0},end:{x:0,y:0},dashLength:3},t.context);return t.context=i,t.type="line",p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"x"!=t&&"y"!=t||this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context.$model;return e.lineType&&"solid"!=e.lineType?"dashed"!=e.lineType&&"dotted"!=e.lineType||this.dashedLineTo(t,e.start.x,e.start.y,e.end.x,e.end.y,e.dashLength):(t.moveTo(e.start.x,e.start.y),t.lineTo(e.end.x,e.end.y)),this}}]),e}(),Jt=function(t){function e(t){c(this,e);var i=g.extend({width:0,height:0,radius:[]},t.context);return t.context=i,t.type="rect",p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"width"!=t&&"height"!=t&&"radius"!=t||this.graphics.clear()}},{key:"_buildRadiusPath",value:function(t){var e=this.context.$model,i=e.width,n=e.height,a=G.getCssOrderArr(e.radius),r=t,s=1;n>=0&&(s=-1),r.moveTo(parseInt(0+a[0]),parseInt(n)),r.lineTo(parseInt(0+i-a[1]),parseInt(n)),0!==a[1]&&r.quadraticCurveTo(0+i,n,parseInt(0+i),parseInt(n+a[1]*s)),r.lineTo(parseInt(0+i),parseInt(0-a[2]*s)),0!==a[2]&&r.quadraticCurveTo(0+i,0,parseInt(0+i-a[2]),parseInt(0)),r.lineTo(parseInt(0+a[3]),parseInt(0)),0!==a[3]&&r.quadraticCurveTo(0,0,parseInt(0),parseInt(0-a[3]*s)),r.lineTo(parseInt(0),parseInt(0+n+a[0]*s)),0!==a[0]&&r.quadraticCurveTo(0,0+n,parseInt(0+a[0]),parseInt(0+n))}},{key:"draw",value:function(t){var e=this.context.$model;e.radius.length?this._buildRadiusPath(t):t.drawRect(0,0,e.width,e.height),t.closePath()}}]),e}(),Kt=function(t){function e(t){c(this,e);var i=g.extend({pointList:[],r0:0,r:0,startAngle:0,endAngle:0,clockwise:!1},t.context);return t.context=i,t.regAngle=[],t.isRing=!1,t.type="sector",p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,Mt),d(e,[{key:"watch",value:function(t,e,i){"r0"!=t&&"r"!=t&&"startAngle"!=t&&"endAngle"!=t&&"clockwise"!=t||this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context.$model,i=void 0===e.r0?0:e.r0,n=e.r,a=zt.degreeTo360(e.startAngle),r=zt.degreeTo360(e.endAngle);e.startAngle!=e.endAngle&&Math.abs(e.startAngle-e.endAngle)%360==0&&(this.isRing=!0,a=0,r=360),a=zt.degreeToRadian(a),r=zt.degreeToRadian(r);var s=t;this.isRing?0==e.r0?s.drawCircle(0,0,e.r):(e.fillStyle&&e.fillAlpha&&(s.beginPath(),s.arc(0,0,n,a,r,e.clockwise),0==e.r0?s.lineTo(0,0):s.arc(0,0,i,r,a,!e.clockwise),s.closePath(),s.currentPath.lineWidth=0,s.currentPath.strokeStyle=null,s.currentPath.lineAlpha=0,s.currentPath.line=!1),e.lineWidth&&e.strokeStyle&&e.lineAlpha&&(s.beginPath(),s.arc(0,0,n,a,r,e.clockwise),s.closePath(),s.currentPath.fillStyle=null,s.currentPath.fill=!1,s.beginPath(),s.arc(0,0,i,r,a,!e.clockwise),s.closePath(),s.currentPath.fillStyle=null,s.currentPath.fill=!1)):(s.beginPath(),s.arc(0,0,n,a,r,e.clockwise),0==e.r0?s.lineTo(0,0):s.arc(0,0,i,r,a,!e.clockwise),s.closePath())}}]),e}(),te={App:xt};te.Display={DisplayObject:ft,DisplayObjectContainer:pt,Stage:gt,Sprite:mt,Shape:Mt,Point:j,Text:Ft},te.Shapes={BrokenLine:$t,Circle:Vt,Droplet:Yt,Ellipse:Xt,Isogon:Qt,Line:Zt,Path:Ut,Polygon:qt,Rect:Jt,Sector:Kt},te.Event={EventDispatcher:X,EventManager:Y},te.AnimationFrame=at,te._=g,te.$=W,te.utils=G;var ee=te,ie={colors:["#ff8533","#73ace6","#82d982","#e673ac","#cd6bed","#8282d9","#c0e650","#e6ac73","#6bcded","#73e6ac","#ed6bcd","#9966cc"],set:function(t){return this.colors=t,this.colors},get:function(){return this.colors}},ne={setGlobalTheme:function(t){ie.set(t)},getGlobalTheme:function(){return ie.get()},instances:{},getChart:function(t){return this.instances[t]},resize:function(){for(var t in this.instances)this.instances[t].resize()},getOptions:function(t,e){if(e||(e=this.options),e[t]){var i,n="[[JSON_FUN_PREFIX_",a="_JSON_FUN_SUFFIX]]";return i=decodeURIComponent(e[t]||{}),JSON.parse(i,function(t,e){return"string"==typeof e&&e.indexOf(a)>0&&0==e.indexOf(n)?new Function("return "+e.replace(n,"").replace(a,""))():e})||{}}}},ae=ee._;function re(t){if(null==t&&(t=[]),t.length>0&&!ae.isArray(t[0])){for(var e=[],i=[],n=0,a=0,r=t.length;a<r;a++){var s=t[a];if(0==a){for(var o in s)i.push(o);e.push(i),n=i.length}for(var l=[],h=0;h<n;h++)l.push(s[i[h]]);e.push(l)}return e}return t}function se(t,e){var i=Number(t),n=e||",";if(!i)return String(t);if(i>=1e3){var a=parseInt(i/1e3);return String(t.toString().replace(a,a+n))}return String(t)}var oe=ee._;var le=ee._,he=20,ue=function(t){function e(t,i,n){r(this,e);var a,s=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return s.Canvax=ee,s._node=t,s._data=re(i),s._opts=n,s.el=(a=t,ae.isString(a)?document.getElementById(a):1==a.nodeType?a:a.length?a[0]:null),s.width=parseInt(s.el.offsetWidth),s.height=parseInt(s.el.offsetHeight),s.padding={top:he,right:he,bottom:he,left:he},s.canvax=new ee.App({el:s.el,webGL:!1}),s.canvax.registEvent(),s.id="chartx_"+s.canvax.id,s.el.setAttribute("chart_id",s.id),s.el.setAttribute("chartx_version","2.0"),s.stage=new ee.Display.Stage({id:"main-chart-stage"}),s.canvax.addChild(s.stage),s.setCoord_Graphs_Sp(),s._graphs=[],s.components=[],s.inited=!1,s.dataFrame=null,s._theme=le.extend([],ie.colors),s.init.apply(s,arguments),s}return o(e,t),s(e,[{key:"init",value:function(){}},{key:"draw",value:function(){}},{key:"getTheme",value:function(t){var e=this._theme;return null!=t?e[t%e.length]||"#ccc":e}},{key:"setCoord_Graphs_Sp",value:function(){this.coordSprite=new ee.Display.Sprite({id:"coordSprite"}),this.stage.addChild(this.coordSprite),this.graphsSprite=new ee.Display.Sprite({id:"graphsSprite"}),this.stage.addChild(this.graphsSprite)}},{key:"destroy",value:function(){this._clean(),this.el&&(this.el.removeAttribute("chart_id"),this.el.removeAttribute("chartx_version"),this.canvax.destroy(),this.el=null),this._destroy&&this._destroy(),this.fire("destroy")}},{key:"_clean",value:function(){for(var t=0,e=this.canvax.children.length;t<e;t++)for(var i=this.canvax.getChildAt(t),n=0,a=i.children.length;n<a;n++)i.getChildAt(n).destroy(),n--,a--;this.setCoord_Graphs_Sp(),this.components=[],this._graphs=[],this.canvax.domView.innerHTML="",this.padding={top:he,right:he,bottom:he,left:he}}},{key:"resize",value:function(){var t=parseInt(this.el.offsetWidth),e=parseInt(this.el.offsetHeight);t==this.width&&e==this.height||(this.width=t,this.height=e,this.canvax.resize(),this.inited=!1,this._clean(),this.draw({resize:!0}),this.inited=!0)}},{key:"reset",value:function(t,e){!t&&(t={}),le.extend(!0,this._opts,t),le.extend(!0,this,t),e&&(this._data=re(e)),this.dataFrame=this.initData(this._data,t),this._clean(),this.draw(t)}},{key:"resetData",value:function(t,e){t&&(this._data=re(t),this.dataFrame=this.initData(this._data)),this._resetData&&this._resetData(e),this.fire("resetData")}},{key:"initData",value:function(){return function(t,e){var i={length:0,org:[],data:[],getRowData:function(t){for(var e={},n=i.data,a=0;a<n.length;a++)e[n[a].field]=n[a].data[i.range.start+t];return e},getFieldData:function(t){var e;return oe.each(i.data,function(i){i.field==t&&(e=i)}),e?e.data.slice(i.range.start,i.range.end+1):[]},getDataOrg:function t(e,a,r,s){s||(s=0);var o=r||n;if(o){a||(a=function(t){return t}),oe.isArray(e)||(e=[e]);for(var l=[],h=0,u=e.length;h<u;h++)if(oe.isArray(e[h]))l.push(t(e[h],a,r,s+1));else{var c=l;s||(c=[]);for(var d=0,f=o.length;d<f;d++)if(e[h]==o[d].field){c.push(p(o[d].data.slice(i.range.start,i.range.end+1)));break}s||l.push(c)}return l}function p(t){for(var e=0,i=t.length;e<i;e++)t[e]=a(t[e]);return t}},fields:[],range:{start:0,end:0}};if(!t||0==t.length)return i;t.length>0&&!oe.isArray(t[0])?(t=re(t),i.length=t.length):i.length=t.length-1,i.range.end=i.length-1,e&&e.dataZoom&&e.dataZoom.range&&oe.extend(i.range,e.dataZoom.range),i.org=t,i.fields=t[0]?t[0]:[];for(var n=[],a=0,r=i.fields.length;a<r;a++){var s={};s.field=i.fields[a],s.index=a,s.data=[],n.push(s)}for(i.data=n,a=1,r=t.length;a<r;a++)for(var o=0,l=t[a].length;o<l;o++)n[o].data.push(t[a][o]);return i}.apply(this,arguments)}},{key:"initComponents",value:function(){var t=this,e=["coord","graphs","theme"];for(var i in this._opts)if(-1==le.indexOf(e,i)){var n=this._opts[i];le.isArray(n)||(n=[n]),le.each(n,function(e){var n=t.componentsMap[i];n&&n.register&&n.register(e,t)})}}},{key:"componentsReset",value:function(t){var e=this;le.each(this.components,function(i,n){t&&t.name==i.type||("dataZoom"!=i.type?i.plug.reset&&i.plug.reset(e[i.type]||{},e.dataFrame):i.plug.reset({},e._getCloneChart()))})}},{key:"drawComponents",value:function(){for(var t=0,e=this.components.length;t<e;t++){var i=this.components[t];i.plug&&i.plug.draw&&i.plug.draw(),"once"==i.type&&(this.components.splice(t,1),t--),e=this.components.length}}},{key:"getComponentsByType",value:function(t){var e=[];return le.each(this.components,function(i){i.type==t&&e.push(i.plug)}),e}},{key:"getComponentById",value:function(t){var e;return le.each(this.components,function(i){if(i.id==t)return e=i,!1}),e?e.plug:null}},{key:"getGraphsByType",value:function(t){var e=[];return le.each(this._graphs,function(i){i.type==t&&e.push(i)}),e}},{key:"getGraphById",value:function(t){var e;return le.each(this._graphs,function(i){if(i.id==t)return e=i,!1}),e}}]),e}(ee.Event.EventDispatcher),ce=ee._,de=function(t){function e(t,i,n,a,s){r(this,e);var o=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return o.graphsMap=a,o.componentsMap=s,o.dataFrame=o.initData(o._data,n),o._graphs=[],n.graphs&&(n.graphs=ce.flatten([n.graphs])),ce.extend(!0,o,o.setDefaultOpts(n)),o}return o(e,ue),s(e,[{key:"setDefaultOpts",value:function(t){return t}},{key:"draw",value:function(t){if(this._opts.theme){ce.isArray(this._opts.theme)||(this._opts.theme=[this._opts.theme]);var e=new this.componentsMap.theme(this._opts.theme,this);this._theme=e.get()}this.initModule(t),this.initComponents(t),this._coord&&this._coord.horizontal&&this.drawBeginHorizontal&&this.drawBeginHorizontal(),this.startDraw(t),this._coord&&this._coord.horizontal&&this.drawEndHorizontal&&this.drawEndHorizontal()}},{key:"initModule",value:function(t){var e=this;this.CoordComponents&&(this._coord=new this.CoordComponents(this.coord,this),this.coordSprite.addChild(this._coord.sprite)),ce.each(this.graphs,function(t){var i=new e.graphsMap[t.type](t,e);e._graphs.push(i),e.graphsSprite.addChild(i.sprite)})}},{key:"startDraw",value:function(t){var e=this;!t&&(t={});this._coord;var i=this.width-this.padding.left-this.padding.right,n=this.height-this.padding.top-this.padding.bottom,a={x:this.padding.left,y:this.padding.top};if(this._coord&&(this._coord.draw(t),i=this._coord.width,n=this._coord.height,a=this._coord.origin),0!=this.dataFrame.length){var r=this._graphs.length,s=0;t=ce.extend(t,{width:i,height:n,origin:a}),ce.each(this._graphs,function(i){i.on("complete",function(t){++s==r&&e.fire("complete"),i.inited=!0}),i.draw(t)}),this.drawComponents(t),this.bindEvent()}else e.fire("complete")}},{key:"_resetData",value:function(t){var e=this;this._coord&&this._coord.resetData(this.dataFrame,t),ce.each(this._graphs,function(i){i.resetData(e.dataFrame,t)}),this.componentsReset(t)}},{key:"show",value:function(t,e){this._coord.addField(t,e),ce.each(this._graphs,function(i){i.show(t,e)})}},{key:"hide",value:function(t,e){this._coord.removeField(t,e),ce.each(this._graphs,function(i){i.hide(t,e)})}},{key:"bindEvent",value:function(){var t=this;this.on("panstart mouseover",function(e){var i=t.getComponentById("tips");i&&(t.setTipsInfo.apply(t,[e]),i.show(e),t._tipsPointerAtAllGraphs(e))}),this.on("panmove mousemove",function(e){var i=t.getComponentById("tips");i&&(t.setTipsInfo.apply(t,[e]),i.move(e),t._tipsPointerAtAllGraphs(e))}),this.on("panend mouseout",function(e){var i=t.getComponentById("tips");!i||e.toTarget&&t._coord&&t._coord.induce&&t._coord.induce.containsPoint(t._coord.induce.globalToLocal(e.target.localToGlobal(e.point)))||(i.hide(e),t._tipsPointerHideAtAllGraphs(e))}),this.on("tap",function(e){var i=t.getComponentById("tips");i&&(i.hide(e),t.setTipsInfo.apply(t,[e]),i.show(e),t._tipsPointerAtAllGraphs(e))})}},{key:"setTipsInfo",value:function(t){if(t.eventInfo||(t.eventInfo={}),!t.eventInfo.nodes||!t.eventInfo.nodes.length){var e=[];ce.each(this._graphs,function(i){e=e.concat(i.getNodesAt(t))}),t.eventInfo.nodes=e}}},{key:"_tipsPointerAtAllGraphs",value:function(t){ce.each(this._graphs,function(e){e.tipsPointerOf(t)})}},{key:"_tipsPointerHideAtAllGraphs",value:function(t){ce.each(this._graphs,function(e){e.tipsPointerHideOf(t)})}}]),e}(),fe=ee._,pe=function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n._opts=t,n.root=i,n.dataFrame=n.root.dataFrame,n.width=0,n.height=0,n.origin={x:0,y:0},n.sprite=null,n.fieldsMap=null,n.induce=null,n}return o(e,t),s(e,[{key:"setFieldEnabled",value:function(t){!function e(i){fe.each(i,function(i,n){fe.isArray(i)?e(i):i.field&&i.field==t&&(i.enabled=!i.enabled)})}(this.fieldsMap)}},{key:"getFieldMapOf",value:function(t){var e=null;return function i(n){fe.each(n,function(n,a){if(fe.isArray(n))i(n);else if(n.field&&n.field==t)return e=n,!1})}(this.fieldsMap),e}},{key:"filterEnabledFields",value:function(t){var e=this,i=[];return fe.isArray(t)||(t=[t]),fe.each(t,function(t){if(fe.isArray(t)){var n=[];fe.each(t,function(t){e.getFieldMapOf(t).enabled&&n.push(t)}),n.length&&i.push(n)}else e.getFieldMapOf(t).enabled&&i.push(t)}),i}},{key:"removeField",value:function(t){this.changeFieldEnabled(t)}},{key:"addField",value:function(t){this.changeFieldEnabled(t)}}]),e}(ee.Event.EventDispatcher),ge=ee._;function ve(t){return parseFloat(t.toPrecision(14))}var ye=function(t,e,i){return ge.uniq(function(t,e,i){t=ge.without(t,void 0,null,"");var n=i&&i.scale?parseFloat(i.scale):1,a=i&&i.isInt?1:0;isNaN(n)&&(n=1);var r=ge.max(t),s=r;r*=n;var o=ge.min(t);if(o==r)return r>0?[o=0,r]:r<0?[r,0]:[0,r=1];var l=r-o;if(l){var h=o;(o-=.05*l)<0&&h>=0&&(o=0),r+=.05*l}var u=.3*(r-o);u=function(t,e){var i,n=[1,2,5,10];i=t/e;for(var a=0;a<n.length&&(t=n[a],!(i<=(n[a]+(n[a+1]||n[a]))/2));a++);return t*=e}(u,Math.pow(10,Math.floor(Math.log(u)/Math.LN10))),a&&(u=Math.ceil(u));var c,d,f=ve(Math.floor(o/u)*u),p=ve(Math.ceil(r/u)*u),g=[];for(c=f;c<=p&&(g.push(c),(c=ve(c+u))!==d);)d=c;return g.length>=3&&g[g.length-2]>=s&&g.pop(),g}(t,0,i))},_e=ee.Shapes.Line,xe=ee._,me=function(t){function e(t,i,n){r(this,e);var a=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a._opt=t,a._coord=n||{},a.width=0,a.height=0,a.title={text:"",shapeType:"text",fontColor:"#999",fontSize:12,offset:2,textAlign:"center",textBaseline:"middle",strokeStyle:null,lineHeight:0},a._title=null,a.enabled=!0,a.tickLine={enabled:1,lineWidth:1,lineLength:4,offset:2,strokeStyle:"#cccccc"},a.axisLine={enabled:1,lineWidth:1,strokeStyle:"#cccccc"},a.label={enabled:1,fontColor:"#999",fontSize:12,rotation:0,format:null,offset:2,textAlign:"center",lineHeight:1,evade:!0},!t.isH||t.label&&void 0!==t.label.rotaion||(a.label.rotation=90),a.maxTxtH=0,a.pos={x:0,y:0},a.dataOrg=[],a.dataSection=[],a._formatTextSection=[],a._textElements=[],a.layoutData=[],a.sprite=null,a.filter=null,a.isH=!1,a.animation=!0,a.maxVal=null,a.minVal=null,a.ceilWidth=0,a.layoutType="rule",a.trimLayout=null,a.posParseToInt=!1,xe.extend(!0,a,t),a.init(t,i),a.field=xe.flatten([a.field])[0],a}return o(e,t),s(e,[{key:"init",value:function(t,e){this.sprite=new ee.Display.Sprite({id:"xAxisSprite"}),this.rulesSprite=new ee.Display.Sprite({id:"rulesSprite"}),this.sprite.addChild(this.rulesSprite),this._initHandle(e)}},{key:"_initHandle",value:function(t){var e=this;t&&t.field&&(this.field=t.field),t&&t.org&&(this.dataOrg=xe.flatten(t.org)),!this._opt.dataSection&&this.dataOrg&&(this.dataSection=this._initDataSection(this.dataOrg)),e._formatTextSection=[],e._textElements=[],xe.each(e.dataSection,function(t,i){e._formatTextSection[i]=e._getFormatText(t,i);var n=new ee.Display.Text(e._formatTextSection[i],{context:{fontSize:e.label.fontSize}});e._textElements[i]=n}),0!=this.label.rotation&&(this.label.textAlign="right"),!("minVal"in this._opt)&&(this.minVal=xe.min(this.dataSection)),(isNaN(this.minVal)||this.minVal==1/0)&&(this.minVal=0),!("maxVal"in this._opt)&&(this.maxVal=xe.max(this.dataSection)),(isNaN(this.maxVal)||this.maxVal==1/0)&&(this.maxVal=1),this._getName(),this._setXAxisHeight()}},{key:"_initDataSection",value:function(t){var e=xe.flatten(t);return"proportion"==this.layoutType&&(1==e.length&&(e.push(0),e.push(2*e[0])),e=e.sort(function(t,e){return t-e}),e=ye(e)),e}},{key:"resetData",value:function(t){this._initHandle(t),this.draw()}},{key:"getIndexOfVal",value:function(t){for(var e,i=0,n=this.layoutData.length;i<n;i++){if(this.layoutData[i].value==t){e=i;break}}return e}},{key:"getIndexOfX",value:function(t){var e=0;return"peak"==this.layoutType&&(e=parseInt(t/this.ceilWidth))==this.dataOrg.length&&(e=this.dataOrg.length-1),"rule"==this.layoutType&&(e=parseInt((t+this.ceilWidth/2)/this.ceilWidth),1==this.dataOrg.length&&(e=0)),"proportion"==this.layoutType&&(e=parseInt(t/((this.maxVal-this.minVal)/this.width))),e}},{key:"getNodeInfoOfX",value:function(t){var e=this.getIndexOfX(t),i=this.dataOrg[e],n=this.dataOrg.length;t=t;"proportion"==this.layoutType?i=(this.maxVal-this.minVal)*(t/this.width)+this.minVal:t=this.getPosX({val:i,ind:e,dataLen:n,width:this.width});var a={ind:e,value:i,text:i,x:t,field:this.field};return a.text=this._getFormatText(i,e,a),a}},{key:"_setXAxisHeight",value:function(){var t=this;if(t.enabled){var e=0;this.label.enabled&&xe.each(t.dataSection,function(i,n){var a=t._textElements[n],r=a.getTextWidth(),s=a.getTextHeight();if(t.label.rotation)if(90==t.label.rotation)s=r;else{var o=Math.sin(Math.abs(t.label.rotation)*Math.PI/180);Math.cos(Math.abs(t.label.rotation)*Math.PI/180);s=parseInt(o*r)}e=Math.max(e,s)}),this.height=e+this.tickLine.lineLength+this.tickLine.offset+this.label.offset,this._title&&(this.height+=this._title.getTextHeight())}else t.height=0}},{key:"_getName",value:function(){this.title.text&&(this._title?this._title.resetText(this.title.text):this._title=new ee.Display.Text(this.title.text,{context:{fontSize:this.title.fontSize,textAlign:this.title.textAlign,textBaseline:this.title.textBaseline,fillStyle:this.title.fontColor,strokeStyle:this.title.strokeStyle,lineWidth:this.title.lineWidth,rotation:this.isH?-180:0}}))}},{key:"draw",value:function(t){t&&xe.extend(!0,this,t),this.layoutData=this._trimXAxis(this.dataSection),this._trimLayoutData(),this.sprite.context.x=this.pos.x,this.sprite.context.y=this.pos.y,this._widget(t)}},{key:"getPosX",value:function(t){var e=0,i=t.val,n="ind"in t?t.ind:xe.indexOf(this.dataSection,i),a="dataLen"in t?t.dataLen:this.dataSection.length,r="width"in t?t.width:this.width,s="layoutType"in t?t.layoutType:this.layoutType;if(1==a)e=r/2;else if("rule"==s&&(e=n/(a-1)*r),"proportion"==s&&(null==i&&(i=n*(this.maxVal-this.minVal)/(a-1)+this.minVal),e=r*((i-this.minVal)/(this.maxVal-this.minVal))),"peak"==s){var o=r/a;this.posParseToInt&&(o=parseInt(o)),e=o*(n+1)-o/2}return isNaN(e)&&(e=0),parseInt(e,10)}},{key:"_computerCeilWidth",value:function(){var t=this.width,e=t;return this.dataOrg.length&&(e=t/this.dataOrg.length,"rule"==this.layoutType&&(e=1==this.dataOrg.length?t/2:t/(this.dataOrg.length-1))),this.posParseToInt&&(e=parseInt(e)),e}},{key:"_trimXAxis",value:function(t){var e=[],i=t||this.dataSection;this.ceilWidth=this._computerCeilWidth();for(var n=0,a=i.length;n<a;n++){var r=this._formatTextSection[n],s=this._textElements[n],o={ind:n,value:i[n],text:r,x:this.getPosX({val:i[n],ind:n,dataLen:a,width:this.width}),textWidth:s.getTextWidth(),field:this.field};e.push(o)}return e}},{key:"_getFormatText",value:function(t,e){var i;return i=xe.isFunction(this.label.format)?this.label.format.apply(this,arguments):t,xe.isArray(i)&&(i=Tools.numAddSymbol(i)),i||(i=t),i}},{key:"_widget",value:function(t){if(this.enabled){!t&&(t={});var e=this.layoutData;this._title&&(this._title.context.y=this.height-this._title.getTextHeight()/2,this._title.context.x=this.width/2,this.sprite.addChild(this._title));for(var i=Math.min(1e3/e.length,25),n=0,a=e.length;n<a;n++){var r="xNode"+n,s=this.rulesSprite.getChildById(r);s||(s=new ee.Display.Sprite({id:r}),this.rulesSprite.addChild(s));var o=e[n],l=o.x,h=this.tickLine.lineLength+this.tickLine.offset+this.label.offset;if(this.label.enabled&&e[n].visible){var u={x:o._text_x||o.x,y:h+20,fillStyle:this.label.fontColor,fontSize:this.label.fontSize,rotation:-Math.abs(this.label.rotation),textAlign:this.label.textAlign,lineHeight:this.label.lineHeight,textBaseline:this.label.rotation?"middle":"top",globalAlpha:0};this.label.rotation&&90!=this.label.rotation&&(u.x+=5,u.y+=3),s._txt?(s._txt.resetText(o.text+""),this.animation?s._txt.animate({x:u.x},{duration:300}):s._txt.context.x=u.x):(s._txt=new ee.Display.Text(o.text,{id:"xAxis_txt_"+n,context:u}),s.addChild(s._txt),this.animation&&!t.resize?s._txt.animate({globalAlpha:1,y:s._txt.context.y-20},{duration:500,easing:"Back.Out",delay:n*i,id:s._txt.id}):(s._txt.context.y=s._txt.context.y-20,s._txt.context.globalAlpha=1))}if(this.tickLine.enabled&&e[n].visible){var c={x:l,y:this.tickLine.offset,end:{x:0,y:this.tickLine.lineLength},lineWidth:this.tickLine.lineWidth,strokeStyle:this.tickLine.strokeStyle};s._line?this.animation?s._line.animate({x:c.x},{duration:300}):s._line.context.x=c.x:(s._line=new _e({context:c}),s.addChild(s._line))}xe.isFunction(this.filter)&&this.filter({layoutData:e,index:n,txt:s._txt,line:s._line||null})}if(this.rulesSprite.children.length>e.length){a=e.length;for(var d=this.rulesSprite.children.length;a<d;a++)this.rulesSprite.getChildAt(a).remove(),a--,d--}if(this.axisLine.enabled){var f=new _e({context:{start:{x:0,y:0},end:{x:this.width,y:0},lineWidth:this.axisLine.lineWidth,strokeStyle:this.axisLine.strokeStyle}});this.sprite.addChild(f)}}}},{key:"_trimLayoutData",value:function(){var t=this.layoutData.length;this.enabled&&t&&("proportion"==this.layoutType&&this._checkOver(),"peak"==this.layoutType&&this._checkOver(),"rule"==this.layoutType&&this._checkOver())}},{key:"_getRootPR",value:function(){var t=0;return this._coord._root&&(t=this._coord._root.padding.right),t}},{key:"_checkOver",value:function(){var t=this,e=t.layoutData;if(t.trimLayout)t.trimLayout(e);else if(this.label.evade){var i=e.length,n=t.label.textAlign;!function a(r){var s=e[r];if(void 0!==s){s.visible=!0;for(var o=r;o<i-1;o++){var l=e[o+1],h=l.textWidth,u=s.textWidth;t.label.rotation&&(h=Math.min(h,22),u=Math.min(u,22));var c=l.x,d=s.x+u;if("center"==n&&(c=l.x-h/2,d=s.x+u/2),"right"==n&&(c=l.x-h,d=s.x),o==i-2&&("center"==n&&l.x+h/2>t.width&&(c=t.width-h,l._text_x=t.width-h/2),"left"==n&&l.x+h>t.width&&(c=t.width-h,l._text_x=t.width-h)),!(c-d<-2)){a(o+1);break}if(o==i-2)return l.visible=!0,void(s.visible=!1);l.visible=!1}}}(0)}else xe.each(e,function(t){t.visible=!0})}}]),e}(ee.Event.EventDispatcher),be=ee.Shapes.Line,we=ee._,ke=function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._opt=t,n.width=null,n.yMaxHeight=0,n.height=0,n.maxW=0,n.field=[],n.title={text:"",shapeType:"text",fontColor:"#999",fontSize:12,offset:2,textAlign:"center",textBaseline:"middle",strokeStyle:null,lineHeight:0},n._title=null,n.enabled=!0,n.tickLine={enabled:1,lineWidth:1,lineLength:4,strokeStyle:"#cccccc",distance:2},n.axisLine={enabled:1,lineWidth:1,strokeStyle:"#cccccc"},n.label={enabled:1,fontColor:"#999",fontSize:12,format:null,rotation:0,distance:3,textAlign:null,lineHeight:1},!t.isH||t.label&&void 0!==t.label.rotaion||(n.label.rotation=90),n.pos={x:0,y:0},n.align="left",n.layoutData=[],n.dataSection=[],n.waterLine=null,n.dataSectionGroup=[],n.middleweight=null,n.dataOrg=i.org||[],n.sprite=null,n.baseNumber=null,n.basePoint=null,n.min=null,n.max=null,n._yOriginTrans=0,n.filter=null,n.isH=!1,n.animation=!0,n.sort=null,n.layoutType="proportion",n.init(t,i),n._getName(),n}return o(e,t),s(e,[{key:"init",value:function(t,e){we.extend(!0,this,t),we.isArray(this.field)||(this.field=[this.field]),this._initData(),this.sprite=new ee.Display.Sprite({id:"yAxisSprite_"+(new Date).getTime()}),this.rulesSprite=new ee.Display.Sprite({id:"yRulesSprite_"+(new Date).getTime()}),this.sprite.addChild(this.rulesSprite)}},{key:"resetData",value:function(t){this.dataSection=[],this.dataSectionGroup=[],t&&t.field&&(this.field=t.field),t&&t.org&&(this.dataOrg=t.org),this._initData(),this._trimYAxis(),this._widget()}},{key:"setX",value:function(t){this.sprite.context.x=t,this.pos.x=t}},{key:"setY",value:function(t){this.sprite.context.y=t,this.pos.y=t}},{key:"_getName",value:function(){if(this.title.text)if(this._title)this._title.resetText(this.title.text);else{var t=0;"left"==this.align?t=-90:(t=90,this.isH&&(t=270)),this._title=new ee.Display.Text(this.title.text,{context:{fontSize:this.title.fontSize,textAlign:this.title.textAlign,textBaseline:this.title.textBaseline,fillStyle:this.title.fontColor,strokeStyle:this.title.strokeStyle,lineWidth:this.title.lineWidth,rotation:t}})}}},{key:"draw",value:function(t){!t&&(t={}),t&&we.extend(!0,this,t),this.height=parseInt(this.yMaxHeight-this._getYAxisDisLine()),this._trimYAxis(),this._widget(t),this.setX(this.pos.x),this.setY(this.pos.y)}},{key:"getYposFromVal",value:function(t){for(var e=0,i=this.dataSectionGroup.length,n=this.height/i,a=0,r=i;a<r;a++){var s=this.dataSectionGroup[a],o=we.min(s),l=we.max(s),h=we.indexOf(s,t);if(t>=o&&t<=l||h>=0){if("proportion"==this.layoutType){var u=this.baseNumber;(u<o||u>l)&&(u=o);var c=Math.max(Math.abs(l-u),Math.abs(u-o));e=(t-u)/c*(c/Math.abs(l-o)*n)+a*n,isNaN(e)&&(e=a*n)}"rule"==this.layoutType&&(e=h/(s.length-1)*n),"peak"==this.layoutType&&(e=n/s.length*(h+1)-n/s.length/2),e+=this._yOriginTrans;break}}return isNaN(e)&&(e=0),-Math.abs(e)}},{key:"getValFromYpos",value:function(t){var e=this.layoutData[0],i=this.layoutData.slice(-1)[0];return(i.value-e.value)*((t-e.y)/(i.y-e.y))+e.value}},{key:"_getYOriginTrans",value:function(t){for(var e=0,i=this.dataSectionGroup.length,n=this.height/i,a=0,r=i;a<r;a++){var s=this.dataSectionGroup[a],o=we.min(s),l=we.max(s),h=Math.abs(l-o);if(t>=o&&t<=l){e=(t-o)/h*n+a*n;break}}return e=isNaN(e)?0:parseInt(e),"desc"==this.sort&&(e=-(n-Math.abs(e))),e}},{key:"_trimYAxis",value:function(){var t=[],e=this.baseNumber;this._yOriginTrans=this._getYOriginTrans(e),this.basePoint={value:this.baseNumber,y:this.getYposFromVal(this.baseNumber)};for(var i=0,n=this.dataSection.length;i<n;i++){var a={value:this.dataSection[i],y:this.getYposFromVal(this.dataSection[i]),visible:!0,text:""},r=a.value;we.isFunction(this.label.format)&&(r=this.label.format.apply(this,[r,i])),null==r&&(r=se(a.value)),a.text=r,t.push(a)}for(var s=0,o=0,l=t.length;o<l;o++)0!=o&&(0==s?t[o].text==t[s].text?t[o].visible=!1:s=o:(t[o].text==t[s].text&&(t[s].visible=!1),s=o));this.layoutData=t}},{key:"_getYAxisDisLine",value:function(){var t=0;return t=(t=0+this.yMaxHeight%this.dataSection.length)>0?0:t}},{key:"_setDataSection",value:function(){var t=1;return we.each(this.field,function(e){t=Math.max(t,1),we.isArray(e)&&we.each(e,function(e){t=Math.max(t,2)})}),1==t?this._oneDimensional():2==t?this._twoDimensional():void 0}},{key:"_oneDimensional",value:function(){for(var t=we.flatten(this.dataOrg),e=0,i=t.length;e<i;e++)t[e]=t[e]||0;return t}},{key:"_twoDimensional",value:function(){var t,e=this.dataOrg,i=[];return we.each(e,function(e,n){if(e.length)if(we.isArray(e[0])){var a=[],r=e[0].length,s=e.length;for(n=0;n<r;n++){for(var o=0,l=0,h=0,u=0,c=0;c<s;c++)!t&&(t=e[c][n]),t=Math.min(t,e[c][n]),e[c][n]>=0?(o+=e[c][n],l++):(h+=e[c][n],u++);l&&a.push(o),u&&a.push(h)}i.push(a)}else i.push(e)}),i.push(t),we.flatten(i)}},{key:"_initData",value:function(){var t=this,e=this._setDataSection();if(null!=this.waterLine&&e.push(this.waterLine),null!=this._opt.min&&e.push(this.min),1==e.length&&e.push(2*e[0]),this._opt.dataSection)this.dataSection=this._opt.dataSection;else{null!=this._opt.baseNumber&&e.push(this.baseNumber),null!=this._opt.minNumber&&e.push(this.minNumber),null!=this._opt.maxNumber&&e.push(this.maxNumber);for(var i=0,n=e.length;i<n;i++)e[i]=Number(e[i]),isNaN(e[i])&&(e.splice(i,1),i--,n--);this.dataSection=ye(e,3)}if(0==this.dataSection.length&&(this.dataSection=[0]),we.min(this.dataSection)<this._opt.min){var a=t._opt.min-we.min(t.dataSection);we.each(this.dataSection,function(e,i){t.dataSection[i]+=a})}this.dataSectionGroup=[we.clone(this.dataSection)],this._sort(),this._setBottomAndBaseNumber(),this._middleweight()}},{key:"setWaterLine",value:function(t){t<=this.waterLine||(this.waterLine=t,(t<we.min(this.dataSection)||t>we.max(this.dataSection))&&this._initData())}},{key:"_sort",value:function(){this.sort&&("desc"==this._getSortType()&&(this.dataSection.reverse(),we.each(this.dataSectionGroup,function(t,e){t.reverse()}),this.dataSectionGroup.reverse()))}},{key:"_getSortType",value:function(){var t;return we.isString(this.sort)&&(t=this.sort),we.isArray(this.sort)&&(t=this.sort["left"==this.align?0:1]),t||(t="asc"),t}},{key:"_setBottomAndBaseNumber",value:function(){null==this.min&&(this.min=we.min(this.dataSection)),null!=this._opt.baseNumber&&null!=this._opt.baseNumber||(this.baseNumber=0,we.max(this.dataSection)<0&&(this.baseNumber=we.max(this.dataSection)),we.min(this.dataSection)>0&&(this.baseNumber=we.min(this.dataSection)))}},{key:"_middleweight",value:function(){if(this.middleweight){we.isArray(this.middleweight)||(this.middleweight=[this.middleweight]);for(var t=we.min(this.dataSection),e=we.max(this.dataSection),i=[t],n=[],a=0,r=this.middleweight.length;a<r;a++){var s=t;a>0&&(s=this.middleweight[a-1]);var o=s+parseInt((this.middleweight[a]-s)/2);i.push(o),i.push(this.middleweight[a]),n.push([s,o,this.middleweight[a]])}var l=this.middleweight.slice(-1)[0];e>l&&(i.push(l+(e-l)/2),i.push(e),n.push([l,l+(e-l)/2,e])),this.dataSection=i,this.dataSectionGroup=n,this._sort(),this._setBottomAndBaseNumber()}}},{key:"resetWidth",value:function(t){this.width=t,"left"==this.align&&(this.rulesSprite.context.x=this.width)}},{key:"_widget",value:function(t){var e=this;if(!t&&(t={}),e.enabled){var i=this.layoutData;e.maxW=0;for(var n=0,a=i.length;n<a;n++){var r=i[n];if(r.visible){var s=r.y,o=(r.value,e.label.textAlign||("left"==e.align?"right":"left")),l=s+(0==n?-3:0)+(n==i.length-1?3:0);90!=e.label.rotation&&-90!=e.label.rotation||(o="center",n==i.length-1&&(l=s-2,o="right"),0==n&&(l=s));var h=this.rulesSprite.getChildAt(n);if(h)h._txt&&this.label.enabled&&(e.animation&&!t.resize?h._txt.animate({y:l},{duration:500,delay:80*n,id:h._txt.id}):h._txt.context.y=l,h._txt.resetText(r.text)),h._tickLine&&this.tickLine.enabled&&(e.animation&&!t.resize?h._tickLine.animate({y:s},{duration:500,delay:80*n,id:h._tickLine.id}):h._tickLine.context.y=s);else{h=new ee.Display.Sprite({id:"yNode"+n});var u=20;r.value==e.baseNumber&&(u=0),r.value<e.baseNumber&&(u=-20);var c=0;if(e.tickLine.enabled){c="left"==e.align?-e.tickLine.lineLength-e.tickLine.distance:e.tickLine.distance;var d=new be({context:{x:c,y:s,end:{x:e.tickLine.lineLength,y:0},lineWidth:e.tickLine.lineWidth,strokeStyle:e._getProp(e.tickLine.strokeStyle)}});h.addChild(d),h._tickLine=d}if(e.label.enabled){var f="left"==e.align?c-e.label.distance:c+e.tickLine.lineLength+e.label.distance;this.isH&&(f+=4*("left"==e.align?-1:1));var p=new ee.Display.Text(r.text,{id:"yAxis_txt_"+e.align+"_"+n,context:{x:f,y:l+u,fillStyle:e._getProp(e.label.fontColor),fontSize:e.label.fontSize,rotation:-Math.abs(e.label.rotation),textAlign:o,textBaseline:"middle",lineHeight:e.label.lineHeight,globalAlpha:0}});h.addChild(p),h._txt=p,90==e.label.rotation||-90==e.label.rotation?e.maxW=Math.max(e.maxW,p.getTextHeight()):e.maxW=Math.max(e.maxW,p.getTextWidth()),we.isFunction(e.filter)&&e.filter({layoutData:e.layoutData,index:n,txt:p,line:d}),e.rulesSprite.addChild(h),e.animation&&!t.resize?p.animate({globalAlpha:1,y:p.context.y-u},{duration:500,easing:"Back.Out",delay:80*(n+1),id:p.id}):(p.context.y=p.context.y-u,p.context.globalAlpha=1)}}}}if(e.rulesSprite.children.length>i.length){a=i.length;for(var g=e.rulesSprite.children.length;a<g;a++)e.rulesSprite.getChildAt(a).remove(),a--,g--}null===e.width&&(e.width=parseInt(e.maxW+e.label.distance),e.tickLine.enabled&&(e.width+=parseInt(e.tickLine.lineLength+e.tickLine.distance)),e._title&&(e.width+=e._title.getTextHeight()));var v=0;if("left"==e.align&&(e.rulesSprite.context.x=e.width,v=e.width),e.axisLine.enabled){var y=new be({context:{start:{x:v,y:0},end:{x:v,y:-e.height},lineWidth:e.axisLine.lineWidth,strokeStyle:e._getProp(e.axisLine.strokeStyle)}});this.sprite.addChild(y)}this._title&&(this._title.context.y=-this.height/2,this._title.context.x=this._title.getTextHeight()/2,"right"==this.align&&(this._title.context.x=this.width-this._title.getTextHeight()/2),this.sprite.addChild(this._title))}else e.width=0}},{key:"_getProp",value:function(t){var e=t;return we.isFunction(t)&&(e=t.call(this,this)),t||(e="#999"),e}}]),e}(ee.Event.EventDispatcher),Ae=ee.Shapes.Line,Se=ee.Shapes.Rect,Te=ee._,Ce=function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.width=0,n.height=0,n.root=i,n.pos={x:0,y:0},n.enabled=1,n.xDirection={shapeType:"line",enabled:1,data:[],lineType:"solid",lineWidth:1,strokeStyle:"#f0f0f0",filter:null},n.yDirection={shapeType:"line",enabled:0,data:[],lineType:"solid",lineWidth:1,strokeStyle:"#f0f0f0",filter:null},n.fill={enabled:!0,fillStyle:null,alpha:null},n.sprite=null,n.xAxisSp=null,n.yAxisSp=null,n.init(t),n}return o(e,t),s(e,[{key:"init",value:function(t){Te.extend(!0,this,t),this.sprite=new ee.Display.Sprite}},{key:"setX",value:function(t){this.sprite.context.x=t}},{key:"setY",value:function(t){this.sprite.context.y=t}},{key:"draw",value:function(t){Te.extend(!0,this,t),this._widget(),this.setX(this.pos.x),this.setY(this.pos.y)}},{key:"clean",value:function(){this.sprite.removeAllChildren()}},{key:"reset",value:function(t){this.sprite.removeAllChildren(),this.draw(t)}},{key:"_widget",value:function(){if(this.enabled){var t=this.root._yAxis[0];if(this.fill.enabled&&this.root&&t&&t.dataSectionGroup&&t.dataSectionGroup.length>1){this.yGroupSp=new ee.Display.Sprite,this.sprite.addChild(this.yGroupSp);for(var e=0,i=t.dataSectionGroup.length;e<i;e++){var n=t.height/i,a=new Se({context:{x:0,y:-n*e,width:this.width,height:-n,fillStyle:this.fill.fillStyle||"#000",fillAlpha:this.fill.alpha||e%2*.025}});this.yGroupSp.addChild(a)}}this.xAxisSp=new ee.Display.Sprite,this.sprite.addChild(this.xAxisSp),this.yAxisSp=new ee.Display.Sprite,this.sprite.addChild(this.yAxisSp);for(var r=0,s=(h=this.xDirection.data).length;r<s;r++){var o=h[r],l=new Ae({id:"back_line_"+r,context:{y:o.y,lineType:this.xDirection.lineType,lineWidth:this.xDirection.lineWidth,strokeStyle:this.xDirection.strokeStyle}});this.xDirection.enabled&&(Te.isFunction(this.xDirection.filter)&&this.xDirection.filter.apply(l,[{layoutData:this.yDirection.data,index:r,line:l},this]),this.xAxisSp.addChild(l),l.context.start.x=0,l.context.end.x=this.width)}var h;for(r=0,s=(h=this.yDirection.data).length;r<s;r++){o=h[r],l=new Ae({context:{x:o.x,start:{x:0,y:0},end:{x:0,y:-this.height},lineType:this.yDirection.lineType,lineWidth:this.yDirection.lineWidth,strokeStyle:this.yDirection.strokeStyle,visible:!!o.x}});this.yDirection.enabled&&(Te.isFunction(this.yDirection.filter)&&this.yDirection.filter.apply(l,[{layoutData:this.xDirection.data,index:r,line:l},this]),this.yAxisSp.addChild(l))}}}}]),e}(ee.Event.EventDispatcher),Pe=ee._,Le=ee.Shapes.Rect,De=function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.type="rect",n._xAxis=null,n._yAxis=[],n._yAxisLeft=null,n._yAxisRight=null,n._grid=null,n.horizontal=!1,n.xAxis={field:n.dataFrame.fields[0]},n.yAxis=[{field:n.dataFrame.fields.slice(1)}],n.grid={},Pe.extend(!0,n,t),t.horizontal&&(n.xAxis.isH=!0,Pe.each(n.yAxis,function(t){t.isH=!0})),"enabled"in t&&(Pe.extend(!0,n.xAxis,{enabled:t.enabled}),Pe.each(n.yAxis,function(e){Pe.extend(!0,e,{enabled:t.enabled})}),n.grid.enabled=t.enabled),n.init(t),n}return o(e,pe),s(e,[{key:"init",value:function(t){this.sprite=new ee.Display.Sprite({id:"coord"}),this._initModules(),this.fieldsMap=this._setFieldsMap()}},{key:"resetData",value:function(t,e){var i=this;this.dataFrame=t;var n=this._getAxisDataFrame(this.xAxis.field);this._xAxis.resetData(n),Pe.each(this._yAxis,function(t){var e=i._getAxisDataFrame(t.field);t.resetData(e)}),this._grid.reset({animation:!1,xDirection:{data:this._yAxisLeft.layoutData}})}},{key:"draw",value:function(t){!t&&(t={});var e=this.root.padding,i=t.height||this.root.height,n=t.width||this.root.width;if(this.horizontal){var a=n;n=i,i=a}var r=i-this._xAxis.height-e.bottom,s=0,o=0;this._yAxisLeft&&(this._yAxisLeft.draw({pos:{x:e.left,y:r},yMaxHeight:r-e.top,resize:t.resize}),s=this._yAxisLeft.width),this._yAxisRight&&(this._yAxisRight.draw({pos:{x:0,y:r},yMaxHeight:r-e.top,resize:t.resize}),o=this._yAxisRight.width),this._xAxis.draw({pos:{x:e.left+s,y:r},width:n-s-e.left-o-e.right,resize:t.resize}),this._yAxisRight&&this._yAxisRight.setX(s+e.left+this._xAxis.width),this._grid.draw({width:this._xAxis.width,height:this._yAxis[0].height,xDirection:{data:this._yAxis[0].layoutData},yDirection:{data:this._xAxis.layoutData},pos:{x:s+e.left,y:r},resize:t.resize}),this.width=this._xAxis.width,this.height=this._yAxis[0].height,this.origin.x=s+e.left,this.origin.y=r,this._initInduce(),this.horizontal&&this._horizontal({w:n,h:i})}},{key:"_initModules",value:function(){this._grid=new Ce(this.grid,this),this.sprite.addChild(this._grid.sprite);var t=this._getAxisDataFrame(this.xAxis.field);this._xAxis=new me(this.xAxis,t,this),this.sprite.addChild(this._xAxis.sprite);var e,i,n,a,r=this.yAxis;Pe.isArray(r)||(r=[r]),(e=Pe.find(r,function(t){return"left"==t.align}))&&(n=this._getAxisDataFrame(e.field),this._yAxisLeft=new ke(e,n),this._yAxisLeft.axis=e,this.sprite.addChild(this._yAxisLeft.sprite),this._yAxis.push(this._yAxisLeft)),(i=Pe.find(r,function(t){return"right"==t.align}))&&(a=this._getAxisDataFrame(i.field),this._yAxisRight=new ke(i,a),this._yAxisRight.axis=i,this.sprite.addChild(this._yAxisRight.sprite),this._yAxis.push(this._yAxisRight))}},{key:"_horizontal",value:function(t){var e=t.h,i=t.w;Pe.each([this.sprite.context],function(t){t.x+=(e-i)/2,t.y+=(i-e)/2;var n={x:i/2,y:e/2};t.rotation=90,t.rotateOrigin=n})}},{key:"getPosX",value:function(t){return this._xAxis.getPosX(t)}},{key:"_getAxisDataFrame",value:function(t){return{field:t,org:this.dataFrame.getDataOrg(t,function(t){return null==t||""==t?t:isNaN(Number(t))?t:Number(t)})}}},{key:"getEnabledFields",value:function(t){if(t)return this.filterEnabledFields(t);var e={left:[],right:[]};return Pe.each(this.fieldsMap,function(t,i){if(Pe.isArray(t)){var n,a=[];Pe.each(t,function(t,e){t.field&&t.enabled&&(n=t.yAxis.align,a.push(t.field))}),a.length&&e[n].push(a)}else t.field&&t.enabled&&e[t.yAxis.align].push(t.field)}),e}},{key:"changeFieldEnabled",value:function(t){this.setFieldEnabled(t);var e=this.getFieldMapOf(t),i=this.getEnabledFields()[e.yAxis.align];e.yAxis.resetData(this._getAxisDataFrame(i)),this._grid.reset({animation:!1,xDirection:{data:this._yAxisLeft?this._yAxisLeft.layoutData:this._yAxisRight.layoutData}})}},{key:"_getYaxisOfField",value:function(t){var e;return Pe.each(this._yAxis,function(i,n){var a=i.field,r=Pe.flatten([a]);if(Pe.indexOf(r,t)>-1)return e=i,!1}),e}},{key:"_setFieldsMap",value:function(){var t=this,e=0;return function i(n){if(!n){var a=t.yAxis;Pe.isArray(a)||(a=[a]),n=[],Pe.each(a,function(t,e){t.field&&(n=n.concat(t.field))})}Pe.isString(n)&&(n=[n]);for(var r=Pe.clone(n),s=0,o=n.length;s<o;s++)Pe.isString(n[s])&&(r[s]={field:n[s],enabled:!0,yAxis:t._getYaxisOfField(n[s]),color:t.root.getTheme(e),ind:e++}),Pe.isArray(n[s])&&(r[s]=i(n[s]));return r}()}},{key:"_initInduce",value:function(){var t=this;t.induce=new Le({id:"induce",context:{x:t.origin.x,y:t.origin.y-t.height,width:t.width,height:t.height,fillStyle:"#000000",globalAlpha:0,cursor:"pointer"}}),t.sprite.getChildById("induce")||t.sprite.addChild(t.induce),t.induce.on("panstart mouseover panmove mousemove panend mouseout tap click dblclick",function(e){t.fire(e.type,e),t.root.fire(e.type,e)})}},{key:"getTipsInfoHandler",value:function(t){var e=t.point.x;t.target!==this.induce&&(e=this.induce.globalToLocal(t.target.localToGlobal(t.point)).x);var i=this._xAxis.getNodeInfoOfX(e),n={xAxis:i,title:i.text,nodes:[]};return t.eventInfo&&(n=Pe.extend(n,t.eventInfo)).xAxis&&(t.eventInfo.xAxis=i),n}}]),e}(),Oe=ee._,Ie=function(t){function e(t,i,n,a,s){r(this,e);var o=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,a,s));return o.CoordComponents=De,o._coord=null,o}return o(e,de),s(e,[{key:"setDefaultOpts",value:function(t){if(this.coord={xAxis:{layoutType:"rule",posParseToInt:!1}},(t=Oe.clone(t)).coord.yAxis){var e=[];Oe.each(Oe.flatten([t.coord.yAxis]),function(t){e.push(Oe.clone(t))}),t.coord.yAxis=e}else t.coord.yAxis=[];if(t.graphs)for(var i=0;i<t.graphs.length;i++){var n=t.graphs[i];if("bar"==n.type&&(this.coord.xAxis.layoutType="peak"),n.field){var a="left";"right"==n.yAxisAlign&&(a="right");var r=null;(r=Oe.find(t.coord.yAxis,function(t,e){return t.align==a||!t.align&&e==("left"==a?0:1)}))?r.align||(r.align=a):(r={align:a,field:[]},t.coord.yAxis.push(r)),r.field?Oe.isArray(r.field)||(r.field=[r.field]):r.field=[],Oe.isArray(n.field)?r.field=r.field.concat(n.field):r.field.push(n.field)}else t.graphs.splice(i--,1)}var s=[],o=[];return Oe.each(t.coord.yAxis,function(t,e){t.align||(t.align=e?"right":"left"),"left"==t.align?s.push(t):o.push(t)}),t.coord.yAxis=s.concat(o),t}},{key:"drawBeginHorizontal",value:function(){var t=this.padding,e=t.top;t.top=t.right,t.right=t.bottom,t.bottom=t.left,t.left=e}},{key:"drawEndHorizontal",value:function(){var t=this,e=t.graphsSprite.context;e.x+=(t.width-t.height)/2,e.y+=(t.height-t.width)/2,e.rotation=90,e.rotateOrigin={x:t.height/2,y:t.width/2},Oe.each(t._graphs,function(t){!function t(e){if(e.children&&Oe.each(e.children,function(e){t(e)}),"text"==e.type){var i=e.context;i.width,i.height,i.rotation=i.rotation-90}}(t.sprite)})}},{key:"getLegendData",value:function(){var t=this,e=[];return Oe.each(Oe.flatten(t._coord.fieldsMap),function(i,n){var a=!1;Oe.each(t.graphs,function(t){if(Oe.indexOf(Oe.flatten([t.field]),i.field)>-1)return a=!0,!1}),a&&e.push({enabled:i.enabled,name:i.field,field:i.field,ind:i.ind,color:i.color,yAxis:i.yAxis})}),e}},{key:"setTipsInfo",value:function(t){if(t.eventInfo=this._coord.getTipsInfoHandler(t),!t.eventInfo.nodes||!t.eventInfo.nodes.length){var e=[],i=t.eventInfo.xAxis.ind;Oe.each(this._graphs,function(t){e=e.concat(t.getNodesAt(i))}),t.eventInfo.nodes=e}}}]),e}(),Ee=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,Me=function(t){var e=t.toLowerCase();if(e&&Ee.test(e)){if(4===e.length){for(var i="#",n=1;n<4;n+=1)i+=e.slice(n,n+1).concat(e.slice(n,n+1));e=i}var a=[];for(n=1;n<7;n+=2)a.push(parseInt("0x"+e.slice(n,n+2)));return"RGB("+a.join(",")+")"}return e},Fe=Me,Be=ee.AnimationFrame,Ne=ee.Shapes.BrokenLine,Re=(ee.Shapes.Rect,ee.Shapes.Circle),We=ee.Shapes.Path,Ge=ee._,je=function(t){function e(t,i,n,a,s,o){r(this,e);var h=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return h._opt=n,h.fieldMap=t,h.field=null,h.iGroup=i,h._yAxis=t.yAxis,h.ctx=a,h.w=o,h.h=s,h.y=0,h.line={enabled:1,shapeType:"brokenLine",strokeStyle:t.color,lineWidth:2,lineType:"solid",smooth:!0},h.icon={enabled:1,shapeType:"circle",corner:!1,radius:3,fillStyle:"#ffffff",strokeStyle:null,lineWidth:2},h.label={enabled:0,fontColor:null,strokeStyle:null,fontSize:12,format:null},h.area={shapeType:"path",enabled:1,fillStyle:null,alpha:.3},h.data=[],h.sprite=null,h._pointList=[],h._currPointList=[],h._bline=null,Ge.extend(!0,h,n),h.field=t.field,h.init(n),h}return o(e,t),s(e,[{key:"init",value:function(t){this.sprite=new ee.Display.Sprite;var e=this;this.sprite.on("destroy",function(){e._growTween&&Be.destroyTween(e._growTween)})}},{key:"draw",value:function(t,e){Ge.extend(!0,this,t),this.data=e,this._widget(t)}},{key:"destroy",value:function(){var t=this;t.sprite.animate({globalAlpha:0},{duration:300,onComplete:function(){t.sprite.remove()}})}},{key:"_getColor",value:function(t,e){var i=this._getProp(t,e);return null==i&&((i=this._getLineStrokeStyle())&&Ge.isString(i)||(i=this.fieldMap.color)),i}},{key:"_getProp",value:function(t,e){return Ge.isArray(t)?t[this.iGroup]:Ge.isFunction(t)?t.apply(this,[this.getNodeInfoAt(e)]):t}},{key:"getNodeInfoAt",value:function(t){return this.data[t]}},{key:"resetData",value:function(t,e){var i=this;t&&(this.data=t),i._pointList=this._getPointList(this.data);var n=i._pointList.length,a=i._currPointList.length;e||(e={name:"normal",left:0,right:n-a}),e.left&&(e.left>0&&(this._currPointList=this._pointList.slice(0,e.left).concat(this._currPointList)),e.left<0&&this._currPointList.splice(0,Math.abs(e.left))),e.right&&(e.right>0&&(this._currPointList=this._currPointList.concat(this._pointList.slice(-e.right))),e.right<0&&this._currPointList.splice(this._currPointList.length-Math.abs(e.right))),i._createNodes(),i._createTexts(),i._grow()}},{key:"_grow",value:function(t,e){var i=this;function n(t){i._bline.context.pointList=Ge.clone(t),i._bline.context.strokeStyle=i._getLineStrokeStyle(t),i._area.context.path=i._fillLine(i._bline),i._area.context.fillStyle=i._getFillStyle();var e=0;Ge.each(t,function(t,n){if(Ge.isNumber(t[1])){if(i._circles){var a=i._circles.getChildAt(e);a&&(a.context.x=t[0],a.context.y=t[1])}if(i._labels){var r=i._labels.getChildAt(e);r&&(r.context.x=t[0],r.context.y=t[1]-3,i._checkTextPos(r,n))}e++}})}i.data.length?this._growTween=Be.registTween({from:i._getPointPosStr(i._currPointList),to:i._getPointPosStr(i._pointList),desc:i.field,onUpdate:function(t){for(var e in t){var a=parseInt(e.split("_")[2]),r=parseInt(e.split("_")[1]);i._currPointList[a]&&(i._currPointList[a][r]=t[e])}n(i._currPointList)},onComplete:function(){i._growTween=null,n(i._pointList),t&&t(i)}}):t&&t(i)}},{key:"_getPointPosStr",value:function(t){var e={};return Ge.each(t,function(t,i){t&&(e["p_1_"+i]=t[1],e["p_0_"+i]=t[0])}),e}},{key:"_getPointList",value:function(t){for(var e=[],i=0,n=t.length;i<n;i++){var a=t[i];e.push([a.x,a.y])}return e}},{key:"_widget",value:function(t){var e=this;if(!t&&(t={}),e._pointList=this._getPointList(e.data),0!=e._pointList.length){var i=[];if(t.animation)for(var n=this._getFirstNode(),a=n?n.y:void 0,r=0,s=e.data.length;r<s;r++){var o=e.data[r];i.push([o.x,Ge.isNumber(o.y)?a:o.y])}else i=e._pointList;e._currPointList=i;var l=new Ne({context:{pointList:i,lineWidth:e.line.lineWidth,y:e.y,strokeStyle:e._getLineStrokeStyle(i),smooth:e.line.smooth,lineType:e._getProp(e.line.lineType),smoothFilter:function(t){t[1]>0?t[1]=0:Math.abs(t[1])>e.h&&(t[1]=-e.h)},lineCap:"round"}});this.line.enabled||(l.context.visible=!1),e.sprite.addChild(l),e._bline=l;var h=new We({context:{path:e._fillLine(l),fillStyle:e._getFillStyle(),globalAlpha:Ge.isArray(e.area.alpha)?1:e.area.alpha}});this.area.enabled||(h.context.visible=!1),e.sprite.addChild(h),e._area=h,e._createNodes(),e._createTexts()}}},{key:"_getFirstNode",value:function(){for(var t=null,e=0,i=this.data.length;e<i;e++){var n=this.data[e];if(Ge.isNumber(n.y)&&(null!==t&&"right"!=this._yAxis.place||(t=n),"right"!==this._yAxis.place&&null!==t))break}return t}},{key:"_getFillStyle",value:function(){var t=this,e=null,i=t._getProp(t.area.fillStyle)||t._getLineStrokeStyle(null,"fillStyle");if(Ge.isArray(t.area.alpha)&&!(i instanceof CanvasGradient)){t.area.alpha.length=2,null==t.area.alpha[0]&&(t.area.alpha[0]=0),null==t.area.alpha[1]&&(t.area.alpha[1]=0);var n=Ge.min(t._bline.context.pointList,function(t){return t[1]});if(void 0===n[0]||void 0===n[1])return null;e=t.ctx.createLinearGradient(n[0],n[1],n[0],0);var a=Fe(i),r=a.replace(")",", "+t._getProp(t.area.alpha[0])+")").replace("RGB","RGBA");e.addColorStop(0,r);var s=a.replace(")",", "+t.area.alpha[1]+")").replace("RGB","RGBA");e.addColorStop(1,s),i=e}return i}},{key:"_getLineStrokeStyle",value:function(t,e){var i;if(!this._opt.line||!this._opt.line.strokeStyle)return this.line.strokeStyle;if(this._opt.line.strokeStyle.lineargradient){!t&&(t=this._bline.context.pointList);var n=Ge.min(t,function(t){return t[1]}),a=Ge.max(t,function(t){return t[1]});return"fillStyle"==e&&(a=[0,0]),void 0===n[0]||void 0===n[1]||void 0===a[1]?null:(i=this.ctx.createLinearGradient(n[0],n[1],n[0],a[1]),Ge.each(this._opt.line.strokeStyle.lineargradient,function(t,e){i.addColorStop(t.position,t.color)}),i)}return i=this._getColor(this._opt.line.strokeStyle)}},{key:"_createNodes",value:function(){var t=this,e=t._currPointList;if((t.icon.enabled||1==e.length)&&t.line.lineWidth){this._circles||(this._circles=new ee.Display.Sprite({}),this.sprite.addChild(this._circles));for(var i=0,n=0,a=e.length;n<a;n++){var r=t._currPointList[n];if(r&&Ge.isNumber(r[1])){var s={x:r[0],y:r[1],r:t._getProp(t.icon.radius,n),lineWidth:t._getProp(t.icon.lineWidth,n)||2,strokeStyle:t._getColor(t.icon.strokeStyle,n),fillStyle:t.icon.fillStyle},o=t._circles.children[i];if(o?Ge.extend(o.context,s):(o=new Re({context:s}),t._circles.addChild(o)),t.icon.corner){var l=t._pointList[n][1],h=t._pointList[n-1],u=t._pointList[n+1];h&&u&&l==h[1]&&l==u[1]&&(o.context.visible=!1)}i++}}if(t._circles.children.length>i)for(var c=i,d=t._circles.children.length;c<d;c++)t._circles.children[c].destroy(),c--,d--}}},{key:"_createTexts",value:function(){var t=this,e=t._currPointList;if(t.label.enabled){this._labels||(this._labels=new ee.Display.Sprite({}),this.sprite.addChild(this._labels));for(var i=0,n=0,a=e.length;n<a;n++){var r=e[n];if(r&&Ge.isNumber(r[1])){var s={x:r[0],y:r[1]-3,fontSize:this.label.fontSize,textAlign:"center",textBaseline:"bottom",fillStyle:t._getColor(t.label.fontColor,n),lineWidth:1,strokeStyle:"#ffffff"},o=t.data[n].value;if(Ge.isFunction(t.label.format)&&(o=t.label.format(o,t.data[n])||o),null!=o&&null!=o){var l=this._labels.children[i];l?(l.resetText(o),Ge.extend(l.context,s)):(l=new ee.Display.Text(o,{context:s}),t._labels.addChild(l),t._checkTextPos(l,n)),i++}}}if(t._labels.children.length>i)for(var h=i,u=t._labels.children.length;h<u;h++)t._labels.children[h].destroy(),h--,u--}}},{key:"_checkTextPos",value:function(t,e){var i=this._currPointList,n=i[e-1],a=i[e+1];n&&a&&n[1]<t.context.y&&a[1]<t.context.y&&(t.context.y+=7,t.context.textBaseline="top")}},{key:"_fillLine",value:function(t){var e=Ge.clone(t.context.pointList),i="",n=this._yAxis.basePoint.y,a=null;function r(){a.push([a[a.length-1][0],n],[a[0][0],n],[a[0][0],a[0][1]]),i+=function(t){var e="",i={x:0,y:0};ae.isArray(t[0])?(i.x=t[0][0],i.y=t[0][1],e="M"+t[0][0]+" "+t[0][1]):(i=t[0],e="M"+t[0].x+" "+t[0].y);for(var n=1,a=t.length;n<a;n++){var r=0,s=0,o=t[n];ae.isArray(o)?(r=o[0],s=o[1]):(r=o.x,s=o.y),r==i.x&&s==i.y?e+=" z":e+=" L"+r+" "+s}return e}(a),a=null}return Ge.each(e,function(t,i){Ge.isNumber(t[1])?(null===a&&(a=[]),a.push(t)):a&&a.length&&r(),i==e.length-1&&Ge.isNumber(t[1])&&r()}),i}}]),e}(ee.Event.EventDispatcher),He=ee._,ze=function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n._opts=t||{},n.root=i,n.ctx=i.stage.canvas.getContext("2d"),n.dataFrame=i.dataFrame,n.data=null,n.sprite=null,n.width=0,n.height=0,n.origin={x:0,y:0},n.animation=!0,n.inited=!1,n}return o(e,t),s(e,[{key:"tipsPointerOf",value:function(t){}},{key:"tipsPointerHideOf",value:function(t){}},{key:"focusAt",value:function(t,e){}},{key:"unfocusAt",value:function(t,e){}},{key:"selectAt",value:function(t,e){}},{key:"unselectAt",value:function(t,e){}},{key:"getSelectedList",value:function(){return[]}},{key:"getSelectedRowList",value:function(){return[]}},{key:"hide",value:function(t){}},{key:"show",value:function(t){}},{key:"getLegendData",value:function(){}},{key:"triggerEvent",value:function(t,e){var i=t["on"+e.type];if(i&&He.isFunction(i))if(e.eventInfo&&e.eventInfo.nodes&&e.eventInfo.nodes.length)1==e.eventInfo.nodes.length?i.apply(this,[e,e.eventInfo.nodes[0]]):i.apply(this,[e,e.eventInfo.nodes]);else{var n=[];He.each(arguments,function(t,e){e&&n.push(t)}),i.apply(this,n)}}}]),e}(ee.Event.EventDispatcher),$e=ee._,Ve=(ee.Shapes.Rect,function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.type="line",n.yAxisAlign="left",n.field=null,n.enabledField=null,n.groups=[],$e.extend(!0,n,t),n.init(n._opts),n}return o(e,ze),s(e,[{key:"init",value:function(t){t.yAxisAlign&&(this.yAxisAlign=t.yAxisAlign),this.sprite=new ee.Display.Sprite}},{key:"draw",value:function(t){return!t&&(t={}),this.width=t.width,this.height=t.height,$e.extend(!0,this.origin,t.origin),this.sprite.context.x=this.origin.x,this.sprite.context.y=this.origin.y,this.data=this._trimGraphs(),this._setGroupsForYfield(this.data,null,t),this.animation&&!t.resize?this.grow():this.fire("complete"),this}},{key:"resetData",value:function(t,e){var i=this;t&&(i.dataFrame=t,i.data=i._trimGraphs()),$e.each(i.groups,function(t){t.resetData(i.data[t.field].data,e)})}},{key:"setEnabledField",value:function(){this.enabledField=this.root._coord.getEnabledFields(this.field)}},{key:"_trimGraphs",value:function(){var t=this,e=this.root._coord,i={};t.setEnabledField();var n="right"==this.yAxisAlign?e._yAxisRight:e._yAxisLeft;return $e.each($e.flatten(t.enabledField),function(e,a){var r=t.root._coord.getFieldMapOf(e),s=t.dataFrame.getFieldData(e);if(s){for(var o=[],l=0,h=s.length;l<h;l++){var u=(t.root._coord?t.root._coord._xAxis:t.root._xAxis).getPosX({ind:l,dataLen:h,layoutType:t.root._coord?t.root._coord.xAxis.layoutType:t.root._xAxis.layoutType}),c=$e.isNumber(s[l])?n.getYposFromVal(s[l]):void 0,d={type:"line",iGroup:a,iNode:l,field:e,value:s[l],x:u,y:c,rowData:t.dataFrame.getRowData(l),color:r.color};o.push(d)}i[e]={yAxis:n,field:e,data:o}}}),i}},{key:"grow",value:function(t){var e=0,i=this.groups.length,n=this;return $e.each(this.groups,function(a,r){a._grow(function(){e++,t&&t(a),e==i&&n.fire("complete")})}),this}},{key:"show",value:function(t){var e=this;-1!=$e.indexOf($e.flatten([e.field]),t)&&(this.data=this._trimGraphs(),this._setGroupsForYfield(this.data,t),$e.each(this.groups,function(t,i){t.resetData(e.data[t.field].data)}))}},{key:"hide",value:function(t){var e=this,i=e.getGroupIndex(t);!this.groups.length||i<0||(this.groups.splice(i,1)[0].destroy(),this.data=this._trimGraphs(),$e.each(this.groups,function(t,i){t.resetData(e.data[t.field].data)}))}},{key:"getGroupIndex",value:function(t){for(var e=-1,i=0,n=this.groups.length;i<n;i++)if(this.groups[i].field===t){e=i;break}return e}},{key:"getGroup",value:function(t){return this.groups[this.getGroupIndex(t)]}},{key:"_setGroupsForYfield",value:function(t,e,i){var n=this;!i&&(i={}),e&&(e=$e.flatten([e]));var a=$e.flatten([this.field]);$e.each(t,function(t,r){if(!e||-1!=$e.indexOf(e,r)){var s=n.root._coord.getFieldMapOf(r),o=$e.indexOf(a,r),l=new je(s,o,n._opts,n.ctx,n.height,n.width);l.draw({animation:n.animation&&!i.resize},t.data);for(var h=!1,u=0,c=n.groups.length;u<c;u++)if(o<n.groups[u].iGroup){n.groups.splice(u,0,l),h=!0,n.sprite.addChildAt(l.sprite,u);break}h||(n.groups.push(l),n.sprite.addChild(l.sprite))}})}},{key:"getNodesAt",value:function(t){var e=[];return $e.each(this.groups,function(i){var n=i.getNodeInfoAt(t);n&&e.push(n)}),e}}]),e}()),Ue=ee.AnimationFrame,Ye=(ee.Shapes.BrokenLine,ee.Shapes.Rect),Xe=ee._,qe=function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.type="bar",n.field=null,n.enabledField=null,n.yAxisAlign="left",n._xAxis=n.root._coord._xAxis,n.absolute=!1,n.proportion=!1,n.node={shapeType:"rect",width:0,_width:0,maxWidth:50,minWidth:1,minHeight:0,radius:3,fillStyle:null,fillAlpha:.95,_count:0,xDis:null,filter:null},n.label={enabled:!1,animation:!0,fontColor:null,fontSize:12,format:null,lineWidth:0,strokeStyle:null,rotation:0,align:"center",verticalAlign:"bottom",position:"top",offsetX:0,offsetY:0},n.select={enabled:!1,alpha:.2,fillStyle:null,_fillStyle:"#092848",triggerEventType:"click",width:1,inds:[]},n._barsLen=0,n.txtsSp=null,Xe.extend(!0,n,t),n.init(),n}return o(e,ze),s(e,[{key:"init",value:function(){this.sprite=new ee.Display.Sprite({id:"graphsEl"}),this.barsSp=new ee.Display.Sprite({id:"barsSp"}),this.txtsSp=new ee.Display.Sprite({id:"txtsSp",context:{}})}},{key:"getNodesAt",value:function(t){var e=this.data,i=[];return Xe.each(this.enabledField,function(n,a){if(Xe.isArray(n))Xe.each(n,function(n,a){var r=e[n]?e[n][t]:null;r&&i.push(r)});else{var r=e[n]?e[n][t]:null;r&&i.push(r)}}),i}},{key:"_getTargetField",value:function(t,e,i,n){if(Xe.isString(n))return n;if(Xe.isArray(n)){var a=n[t];if(Xe.isString(a))return a;if(Xe.isArray(a))return a[e]}}},{key:"_getColor",value:function(t,e,i){e.value;var n,a=e.field,r=this.root._coord.getFieldMapOf(a);return Xe.isString(t)&&(n=t),Xe.isArray(t)&&(n=Xe.flatten(t)[Xe.indexOf(i,a)]),Xe.isFunction(t)&&(n=t.apply(this,[e])),null==n&&(n=r.color),n}},{key:"_getBarWidth",value:function(t,e){return this.node.width?Xe.isFunction(this.node.width)?this.node._width=this.node.width(t):this.node._width=this.node.width:(this.node._width=e-Math.max(1,.2*e),1==this.node._width&&t>3&&(this.node._width=t-2)),this.node._width<1&&(this.node._width=1),this.node._width=parseInt(this.node._width),this.node._width>this.node.maxWidth&&(this.node._width=this.node.maxWidth),this.node._width}},{key:"show",value:function(t){this.draw()}},{key:"hide",value:function(t){Xe.each(this.barsSp.children,function(e,i){var n=e.getChildById("bar_"+i+"_"+t);n&&n.destroy()}),Xe.each(this.txtsSp.children,function(e,i){var n=e.getChildById("text_"+i+"_"+t);n&&n.destroy()}),this.draw()}},{key:"resetData",value:function(t,e){this.dataFrame=t,this.draw()}},{key:"clean",value:function(){this.data={},this.barsSp.removeAllChildren(),this.label.enabled&&this.txtsSp.removeAllChildren()}},{key:"draw",value:function(t){!t&&(t={}),Xe.extend(!0,this,t);var e=this,i=e.animation&&!t.resize;if(this.data=this._trimGraphs(),0==this.enabledField.length||0==this._dataLen)return e._preDataLen=0,void this.clean();var n=e._preDataLen,a=this.enabledField.length,r=0;e.node._count=0;var s=Xe.flatten([this.field]);Xe.each(this.enabledField,function(t,o){var l=(t=Xe.flatten([t])).length;if(0!=l){r=e.width/e._dataLen,e._barsLen=e._dataLen*a;for(var h=0;h<e._dataLen;h++){var u=null;if(0==o){var c;h<=n-1?u=e.barsSp.getChildById("barGroup_"+h):(u=new ee.Display.Sprite({id:"barGroup_"+h}),e.barsSp.addChild(u),u.iNode=h);var d=r*e.select.width;e.select.width>1&&(d=e.select.width),h<=n-1?((c=u.getChildById("group_region_"+h)).context.width=d,c.context.x=r*h+(r-d)/2):(c=new Ye({id:"group_region_"+h,pointChkPriority:!1,hoverClone:!1,xyToInt:!1,context:{x:r*h+(r-d)/2,y:-e.height,width:d,height:e.height,fillStyle:e._getGroupRegionStyle(h),globalAlpha:Xe.indexOf(e.select.inds,e.dataFrame.range.start+h)>-1?e.select.alpha:0}}),u.addChild(c),c.iNode=h,c.on("mousedown mouseup panstart mouseover panmove mousemove panend mouseout tap click dblclick",function(t){if(t.eventInfo={iNode:this.iNode,nodes:e.getNodesAt(this.iNode)},e.root.fire(t.type,t),e.select.enabled&&t.type==e.select.triggerEventType){var i=e.dataFrame.range.start+this.iNode;Xe.indexOf(e.select.inds,i)>-1?e.unselectAt(i):e.selectAt(i)}e.triggerEvent(e,t)}))}else u=e.barsSp.getChildById("barGroup_"+h);var f=null;0==o?h<=n-1?f=e.txtsSp.getChildById("txtGroup_"+h):(f=new ee.Display.Sprite({id:"txtGroup_"+h}),e.txtsSp.addChild(f),f.iGroup=o):f=e.txtsSp.getChildById("txtGroup_"+h);for(var p=0;p<l;p++){e.node._count++;var g=e.data[t[p]][h];g.iGroup=o,g.iNode=h,g.iLay=p;var v=e._getColor(e.node.fillStyle,g,s);g.color=v;var y=g.y-g.fromY;isNaN(y)?y=0:Math.abs(y)<e.node.minHeight&&(y=e.node.minHeight);var _={x:Math.round(g.x),y:g.fromY,width:e.node._width,height:y,fillStyle:v,fillAlpha:e.node.fillAlpha,scaleY:-1};g.width=_.width;var x={x:_.x,y:g.yBasePoint.y,width:_.width,height:_.height,fillStyle:_.fillStyle,fillAlpha:e.node.fillAlpha,scaleY:0};if(e.node.radius&&g.isLeaf&&!e.proportion){var m=Math.min(e.node._width/2,Math.abs(y));m=Math.min(m,e.node.radius),x.radius=[m,m,0,0]}i||(delete x.scaleY,x.y=_.y);var b=null,w="bar_"+h+"_"+g.field;if(h<=n-1&&(b=u.getChildById(w)),b?b.context.fillStyle=v:((b=new Ye({id:w,context:x})).field=g.field,u.addChild(b)),b.finalPos=_,b.iGroup=o,b.iNode=h,b.iLay=p,b.nodeData=g,g.nodeElement=b,e.node.filter&&e.node.filter.apply(b,[g,e]),e.label.enabled){var k=g.value;if(Xe.isFunction(e.label.format)){var A=e.label.format(k,g);void 0===A&&null===A||(k=A)}if(null==k||""===k)continue;Xe.isNumber(k)&&(k=se(k));var S={fillStyle:e.label.fontColor||_.fillStyle,fontSize:e.label.fontSize,lineWidth:e.label.lineWidth,strokeStyle:e.label.strokeStyle||_.fillStyle,textBaseline:e.label.verticalAlign,rotation:e.label.rotation},T=e._getTextPos(_,g);S.x=T.x,S.y=T.y,S.textAlign=e._getTextAlign(_,g);var C=null,P="text_"+h+"_"+g.field;h<=n-1&&(C=f.getChildById(P)),C?(C.resetText(k),C.context.x=S.x,C.context.y=S.y):((C=new ee.Display.Text(k,{id:P,context:S})).field=g.field,f.addChild(C))}}}}}),this.sprite.addChild(this.barsSp),this.label.enabled&&this.sprite.addChild(this.txtsSp),this.sprite.context.x=this.origin.x,this.sprite.context.y=this.origin.y,this.grow(function(){e.fire("complete")},{delay:0,duration:300,animate:i}),e._preDataLen=e._dataLen}},{key:"setEnabledField",value:function(){this.enabledField=this.root._coord.getEnabledFields(this.field)}},{key:"_getGroupRegionStyle",value:function(t){var e=this,i=e.select.fillStyle;return Xe.isArray(e.select.fillStyle)&&(i=e.select.fillStyle[h]),Xe.isFunction(e.select.fillStyle)&&(i=e.select.fillStyle.apply(this,[{iNode:t,rowData:e.dataFrame.getRowData(t)}])),null==i?e.select._fillStyle:i}},{key:"_trimGraphs",value:function(){var t=this,e=this._xAxis,i=this.root._coord;this.setEnabledField(),this.data={};var n=[],a=0,r=0,s=!1;this.absolute?(n=[this],a=this.enabledField.length):Xe.each(this.root._graphs,function(e){e.absolute||"bar"!=e.type||(e===t&&(s=!0),s?e.setEnabledField():r+=e.enabledField.length,a+=e.enabledField.length,n.push(e))});var o=e.ceilWidth,l=o/(a+1),h=this._getBarWidth(o,l),u=l-h;null!=this.node.xDis&&(u=this.node.xDis);var c=(o-h*a-u*(a-1))/2;r&&(c+=(u+h)*r);var d="left"==this.yAxisAlign?i._yAxisLeft:i._yAxisRight,f=this.dataFrame.getDataOrg(this.enabledField);return Xe.each(f,function(n,a){var r=[];Xe.each(n,function(s,l){r[l]=[],t._dataLen=s.length,Xe.each(s,function(s,f){var p=s;t.proportion&&(p=0,Xe.each(n,function(t,e){p+=t[f]}));var g=e.getPosX({ind:f,dataLen:t._dataLen,layoutType:i?i.xAxis.layoutType:t.root._xAxis.layoutType}),v=g-o/2+c+(h+u)*a,y=0;y=t.proportion?-s/p*d.height:d.getYposFromVal(s);var _=function t(e,i,n,a,r,s){var o=e[i-1];if(!o)return s.y;var l=o[n].y,h=o[n].value,u=s.value;return a>=u?h>=u?(o[n].isLeaf=!1,l):t(e,i-1,n,a,r,s):h<u?(o[n].isLeaf=!1,l):t(e,i-1,n,a,r,s)}(r,l,f,s,y,d.basePoint);y+=_-d.basePoint.y;var x={type:"bar",value:s,vInd:l,vCount:p,field:t._getTargetField(a,l,f,t.enabledField),fromX:v,fromY:_,x:v,y:y,width:h,yBasePoint:d.basePoint,isLeaf:!0,xAxis:e.getNodeInfoOfX(g),iNode:f,rowData:t.dataFrame.getRowData(f),color:null};t.data[x.field]||(t.data[x.field]=r[l]),r[l].push(x)})})}),t.data}},{key:"_getTextAlign",value:function(t,e){var i=this.label.align;return e.value<e.yBasePoint.value&&("left"==i?i="right":"right"==i&&(i="left")),i}},{key:"_getTextPos",value:function(t,e){var i={x:0,y:0},n=t.x,a=t.y;switch(this.label.position){case"top":n=t.x+t.width/2,a=t.y+t.height;break;case"topRight":n=t.x+t.width,a=t.y+t.height;break;case"right":n=t.x+t.width,a=t.y+t.height/2;break;case"rightBottom":n=t.x+t.width,a=t.y;break;case"bottom":n=t.x+t.width/2,a=t.y;break;case"bottomLeft":n=t.x,a=t.y;break;case"left":n=t.x,a=t.y+t.height/2;break;case"leftTop":n=t.x,a=t.y+t.height;break;case"center":n=t.x+t.width/2,a=t.y+t.height/2}n-=this.label.offsetX;var r=1;return e.value<e.yBasePoint.value&&(r=-1),a-=r*this.label.offsetY,i.x=n,i.y=a,i}},{key:"grow",value:function(t,e){var i=this;if(i._preDataLen>i._dataLen)for(var n=i._dataLen,a=i._preDataLen;n<a;n++)i.barsSp.getChildAt(n).destroy(),i.label.enabled&&i.txtsSp.getChildAt(n).destroy(),n--,a--;if(e.animate){var r=Xe.extend({delay:Math.min(1e3/this._barsLen,80),easing:"Linear.None",duration:500},e),s=0;Xe.each(i.enabledField,function(e,n){var a=(e=Xe.flatten([e])).length;if(0!=a)for(var o=0;o<i._dataLen;o++)for(var l=0;l<a;l++){var h=i.data[e[l]][o],u=i.barsSp.getChildById("barGroup_"+o).getChildById("bar_"+o+"_"+h.field);0==r.duration?(u.context.scaleY=1,u.context.y=1*u.finalPos.y,u.context.x=u.finalPos.x,u.context.width=u.finalPos.width,u.context.height=u.finalPos.height):(u._tweenObj&&Ue.destroyTween(u._tweenObj),u._tweenObj=u.animate({scaleY:1,y:1*u.finalPos.y,x:u.finalPos.x,width:u.finalPos.width,height:u.finalPos.height},{duration:r.duration,easing:r.easing,delay:o*r.delay,onUpdate:function(t){},onComplete:function(e){e.width<3&&this.context&&(this.context.radius=0),++s===i.node._count&&t&&t(i)},id:u.id}))}})}else t&&t(i)}},{key:"selectAt",value:function(t){if(!(Xe.indexOf(this.select.inds,t)>-1)){this.select.inds.push(t);var e=t-this.dataFrame.range.start,i=this.barsSp.getChildById("barGroup_"+e);if(i){var n=i.getChildById("group_region_"+e);n&&(n.context.globalAlpha=this.select.alpha)}}}},{key:"unselectAt",value:function(t){if(-1!=Xe.indexOf(this.select.inds,t)){var e=Xe.indexOf(this.select.inds,t);this.select.inds.splice(e,1);var i=t-this.dataFrame.range.start,n=this.barsSp.getChildById("barGroup_"+i);if(n){var a=n.getChildById("group_region_"+i);a&&(a.context.globalAlpha=0)}}}},{key:"getSelectedRowList",value:function(){var t=[],e=this;return Xe.each(e.select.inds,function(i){var n=i-e.dataFrame.range.start;t.push(e.dataFrame.getRowData(n))}),t}}]),e}(),Qe=function(t){function e(t,i){r(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.enabled=!1,n}return o(e,t),s(e,[{key:"init",value:function(t,e){}},{key:"draw",value:function(){}},{key:"destroy",value:function(){}},{key:"reset",value:function(){}}]),e}(ee.Event.EventDispatcher),Ze=ee.Shapes.Circle,Je=ee._,Ke=function(t){function e(t,i,n){r(this,e);var a=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.root=n,a.data=t||[],a.width=0,a.height=0,a.field=null,a.icon={height:30,width:"auto",shapeType:"circle",radius:5,lineWidth:1,fillStyle:"#999",onChecked:function(){},onUnChecked:function(){}},a.label={textAlign:"left",textBaseline:"middle",fillStyle:"#333",cursor:"pointer",format:function(t,e){return t}},a._labelColor="#999",a.position="top",a.layoutType="h",a.sprite=null,i&&Je.extend(!0,a,i),"left"==a.position||"right"==a.position?a.layoutType="v":a.layoutType="h",a.sprite=new ee.Display.Sprite({id:"LegendSprite"}),a._draw(),a}return o(e,Qe),s(e,[{key:"pos",value:function(t){t.x&&(this.sprite.context.x=t.x+this.icon.radius),t.y&&(this.sprite.context.y=t.y)}},{key:"draw",value:function(){}},{key:"_draw",value:function(){var t=this,e=this.root.width-this.root.padding.left-this.root.padding.right,i=this.root.height-this.root.padding.top-this.root.padding.bottom,n=0,a=0,r=0,s=0,o=0,l=1;Je.each(this.data,function(h,u){var c=new Ze({id:"legend_field_icon_"+u,context:{x:0,y:t.icon.height/3,fillStyle:h.enabled?h.color||t._labelColor:"#ccc",r:t.icon.radius,cursor:"pointer"}});c.hover(function(e){e.eventInfo=t._getInfoHandler(e,h)},function(t){delete t.eventInfo}),c.on("mousemove",function(e){e.eventInfo=t._getInfoHandler(e,h)}),c.on("click",function(){});var d=new ee.Display.Text(t.label.format(h.name,h),{id:"legend_field_txt_"+u,context:{x:t.icon.radius+3,y:t.icon.height/3,textAlign:t.label.textAlign,textBaseline:t.label.textBaseline,fillStyle:t.label.fillStyle,cursor:t.label.cursor}});d.hover(function(e){e.eventInfo=t._getInfoHandler(e,h)},function(t){delete t.eventInfo}),d.on("mousemove",function(e){e.eventInfo=t._getInfoHandler(e,h)}),d.on("click",function(){});var f=d.getTextWidth()+2*t.icon.radius+20;n=Math.max(n,f);var p={height:t.icon.height};"v"==t.layoutType?(o+t.icon.height>i&&(s+=n,o=0),p.x=s,p.y=o,o+=t.icon.height,r=Math.max(r,o)):(s+f>e&&(a=Math.max(a,s),s=0,l++),p.x=s,p.y=t.icon.height*(l-1),s+=f);var g=new ee.Display.Sprite({id:"legend_field_"+u,context:p});g.addChild(c),g.addChild(d),g.context.width=f,t.sprite.addChild(g),g.on("click",function(e){1==Je.filter(t.data,function(t){return t.enabled}).length&&h.enabled||(h.enabled=!h.enabled,c.context.fillStyle=h.enabled?h.color||t._labelColor:"#ccc",h.enabled?t.icon.onChecked(h):t.icon.onUnChecked(h))})}),"h"==this.layoutType?(t.width=t.sprite.context.width=a,t.height=t.sprite.context.height=t.icon.height*l):(t.width=t.sprite.context.width=s+n,t.height=t.sprite.context.height=r)}},{key:"_getInfoHandler",value:function(t,e){return{type:"legend",nodes:[{name:e.name,fillStyle:e.color}]}}}],[{key:"register",value:function(t,e){var i=Je.extend(!0,{icon:{onChecked:function(t){e.show(t.name,t),e.componentsReset({name:"legend"})},onUnChecked:function(t){e.hide(t.name,t),e.componentsReset({name:"legend"})}}},t),n=t.data;n?(Je.each(n,function(t,e){t.enabled=!0,t.ind=e}),delete t.data):n=e.getLegendData();var a=new this(n,i,e);"h"==a.layoutType?e.padding[a.position]+=a.height:e.padding[a.position]+=a.width,e._coord&&"rect"==e._coord.type&&("top"!=a.position&&"bottom"!=a.position||e.components.push({type:"once",plug:{draw:function(){a.pos({x:e._coord.origin.x})}}}));var r={x:e.width-e.padding.right,y:e.padding.top};"left"==a.position&&(r.x=e.padding.left-a.width),"top"==a.position&&(r.x=e.padding.left,r.y=e.padding.top-a.height),"bottom"==a.position&&(r.x=e.padding.left,r.y=e.height-e.padding.bottom),a.pos(r),e.components.push({type:"legend",plug:a}),e.stage.addChild(a.sprite)}}]),e}(),ti={rect:Ie},ei={line:Ve,bar:qe},ii={legend:Ke},ni=["#4d7fff","#13c9ce","#fb734f","#50c3f2","#b598f1"];ni&&ni.length&&ie.set(ni);var ai={canvax:ee,create:function(t,e,i){var n=null,a=this,r=ee._.clone(e),s=ee._.extend(!0,{},i),o=ee.$.query(t).getAttribute("chart_id");if(null!=o){var l=a.instances[o];l&&l.destroy(),delete a.instances[o]}var h=de;s.coord&&s.coord.type&&(h=ti[s.coord.type]);try{(n=new h(t,r,s,ei,ii))&&(n.draw(),a.instances[n.id]=n,n.on("destroy",function(){a.instances[n.id]=null,delete a.instances[n.id]}))}catch(t){throw"Chatx Error"+t}return n},options:{3:"%7B%22coord%22%3A%7B%22type%22%3A%22rect%22%2C%22xAxis%22%3A%7B%22field%22%3A%22time%22%7D%7D%2C%22graphs%22%3A%5B%7B%22type%22%3A%22bar%22%2C%22field%22%3A%5B%22uv%22%2C%22pv%22%5D%2C%22node%22%3A%7B%22xDis%22%3A0%7D%7D%5D%7D",4:"%7B%22coord%22%3A%7B%22type%22%3A%22rect%22%2C%22xAxis%22%3A%7B%22field%22%3A%22time%22%7D%7D%2C%22graphs%22%3A%5B%7B%22type%22%3A%22line%22%2C%22field%22%3A%5B%22click%22%2C%22ppc%22%5D%7D%5D%2C%22legend%22%3A%7B%7D%7D",5:"%7B%22coord%22%3A%7B%22type%22%3A%22rect%22%2C%22xAxis%22%3A%7B%22field%22%3A%22time%22%7D%7D%2C%22graphs%22%3A%5B%7B%22type%22%3A%22line%22%2C%22field%22%3A%22click%22%2C%22line%22%3A%7B%22strokeStyle%22%3A%7B%22lineargradient%22%3A%5B%7B%22position%22%3A0%2C%22color%22%3A%22%23ff7033%22%7D%2C%7B%22position%22%3A0.1%2C%22color%22%3A%22%23ff9933%22%7D%2C%7B%22position%22%3A0.3%2C%22color%22%3A%22%232dafe3%22%7D%2C%7B%22position%22%3A0.85%2C%22color%22%3A%22%23449be3%22%7D%2C%7B%22position%22%3A0.95%2C%22color%22%3A%22%237177e3%22%7D%2C%7B%22position%22%3A1%2C%22color%22%3A%22%235744e3%22%7D%5D%7D%7D%2C%22fill%22%3A%7B%22alpha%22%3A0%7D%7D%5D%7D"}};for(var ri in ne)ai[ri]=ne[ri];e.default=ai});