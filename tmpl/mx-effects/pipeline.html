{{if (mode == 'box' || mode == 'box-time')}}
<div class="clearfix pipeline {{if editable}} editable {{/if}}" 
    style="--mx-effects-pipeline-color: {{=color}};">
    {{if img}}
    <div class="pipeline-logo">
        <div class="pipeline-logo-inner" style="background-image: url({{=img}});"></div>
    </div>
    {{/if}}
    <div class="pipeline-boxs">
        {{each list as item index}}
        <div class="pipeline-box {{if item.highlight}} highlight {{/if}} {{if (item.value == selected)}} cur {{/if}} {{if item.disabled}} disabled {{/if}}"
            {{if !item.disabled}} mx-click="@{select}({item:'{{@item}}'})"  {{/if}} >
            <div class="pipeline-title">
                {{!item.text}}
                {{if item.icon}}<img src="{{=item.icon}}"/>{{/if}}
                {{if item.iconTip}}<mx-popover class="mc-iconfont mc-tip-iconfont" content="{{=item.iconTip}}">&#xe72f;</mx-popover>{{/if}}
            </div> 
            <div class="pipeline-sub-title">{{!item.tip}}</div>
            <div class="pipeline-gradient-bg" style="background-image: linear-gradient(180deg, {{=color0}} 0%, {{=color2}} 99%);"></div>
            <div class="pipeline-spliter" style="background-image: linear-gradient(180deg, {{=color0}} 0%, {{=color2}} 99%);"></div>
        </div>
        {{/each}}
        <div class="pipeline-boxs-bg" style="background-image: linear-gradient(270deg, {{=color4}} 2%, {{=color2}} 100%);"></div>
        <div class="pipeline-boxs-bg-on" style="width: {{=percent}}%; background-image: linear-gradient(145deg, {{=color8}} 33%, {{=color6}} 34%, {{=color6}} 59%, {{=color8}} 60%); "></div>
    </div>
    <div class="pipeline-bg"></div>
</div>
{{/if}}

{{if (mode == 'circle')}}
<div class="steps">
    {{each list as item index}}
    <div class="clearfix step {{if (index == selected)}} current {{/if}} locked">
        <div class="circle">{{=(index + 1)}}</div>
        <div class="title">
            {{=item.title}}
            {{if item.tip}}
            <mx-popover class="mc-iconfont mc-tip-iconfont" content="{{!item.tip}}" width="280">&#xe72f;</mx-popover>
            {{/if}}
        </div>
    </div>
    {{/each}}
</div>
{{/if}}

{{if (mode == 'nav')}}
<div class="clearix">
    {{each list as item index}}
    <div class="nav {{if (index == selected)}} nav-current {{/if}} {{if item.locked}} nav-locked {{/if}}">
        <!-- 数值 -->
        <span class="nav-idx">
            {{=(index + 1)}}
            <!-- 显示打钩状态 1. 最后一步 2. 已完成的步骤 -->
            <!-- {{if ((list.length == index + 1) || (index < alreadyStep))}}
                <i class="mc-iconfont bold">&#xe65d;</i>
            {{else}}
                {{=(stepIndex + 1)}}
            {{/if}} -->
        </span>

        <a href="javascript:;" class="nav-text {{if ((index == curStepIndex) && (curSubStepIndex == -1))}} on {{/if}} "
            data-sub="-1" data-visible-sub="-1"
            {{if !item.locked}} mx-click="nav({stepIndex:{{=index}}})" {{if spm}} data-spm-click="{{=spm}}_nav_{{=index}}" {{/if}} {{/if}}>
            {{=item.label}}
        </a>
        <!-- 高亮背景 -->
        {{if ((index == selected) && (subSelected == -1))}}
        <span class="nav-pbg" style="top: 0px;"></span>
        {{/if}}

        <!-- 高亮背景 -->
        <!-- {{if !item.locked && item.showSubs}}
            {{each item.subs as sub}}
            <a href="javascript:;" class="step child {{if ((index == curStepIndex) && (curSubStepIndex == sub.index))}} on {{/if}}"
                {{if (sub.hide || sub.subHide)}} style="display: none;" {{/if}}
                data-sub="{{=sub.index}}" data-visible-sub="{{=sub.visibleIndex}}"   
                mx-click="nav({stepIndex:{{=index}},subStepIndex:{{=sub.index}}})"
                {{if spm}} data-spm-click="{{=spm}}_nav_{{=index}}_sub_{{=sub.index}}" {{/if}}>
                {{=sub.label}}
            </a>
            {{if ((index == curStepIndex) && (curSubStepIndex == sub.index))}}
            <span class="nav-pbg" style="top: {{=(sub.visibleIndex * stepLineHeight)}}px;"></span>
            {{/if}}
            {{/each}}
        {{/if}} -->
            
        <!-- 锁定状态 -->
        {{if item.locked}}
        <i class="mc-iconfont nav-lock">&#xe759;</i>
        {{/if}}
    </div>
    {{/each}}
</div>
{{/if}}