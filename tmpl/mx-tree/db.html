{{each data.children as item index}}
<div class="li">
    <div class="name">
        {{if (needExpand && item.children && item.children.length > 0)}}
        <span class="mc-iconfont oper {{if (!item.close)}} oper-open {{/if}}" mx-click="@{toggle}({index:{{=index}}})"></span>
        {{/if}}

        <!-- 多选 -->
        {{if (mode == 'checkbox')}}
        <label class="label-item">
            <input class="checkbox"
                type="checkbox"
                id="cb_{{=viewId}}_{{=index}}"
                value="{{=item[valueKey]}}"
                name="{{=viewId}}" 
                {{if (item.checkboxState == stateConstant.checked)}} checked="true" {{/if}}
                mx-change="@{check}({index:{{=index}}})"/>
            <span {{if item.highlight}} class="color-brand" {{/if}}>{{=item[textKey]}}</span>
        </label>
        {{/if}}
        
        <!-- 只读文案 -->
        {{if (mode == 'readonly')}}
        <span {{if item.highlight}} class="color-brand" {{/if}}>{{=item[textKey]}}</span>
        {{/if}}

        <!-- radio只在叶子节点可选 -->
        {{if (mode == 'radio')}}
            {{if (item.children && (item.children.length > 0 && (valueType == 'bottom')))}}
            <span {{if item.highlight}} class="color-brand" {{/if}}>{{=item[textKey]}}</span>
            {{else}}
            <label class="label-item">
                <input class="radio"
                    type="radio"
                    id="r_{{=viewId}}_{{=index}}"
                    value="{{=item[valueKey]}}"
                    name="{{=ownerId}}" 
                    {{if (item[valueKey] == radioSelected)}} checked="true" {{/if}} />
                <span {{if item.highlight}} class="color-brand" {{/if}}>{{=item[textKey]}}</span>
            </label>
            {{/if}}
        {{/if}}
    </div>
    {{if (!item.close && item.children && (item.children.length > 0))}}
    <mx-tree.db
        id="{{=viewId}}_{{=index}}"
        owner-id="{{=ownerId}}"
        mode="{{=mode}}"
        value-type="{{=valueType}}"
        radio-selected="{{=radioSelected}}"
        state-constant="{{@stateConstant}}"
        need-expand="{{@needExpand}}"
        text-key="{{=textKey}}"
        value-key="{{=valueKey}}"
        close-map="{{@closeMap}}"
        highlight-map="{{@highlightMap}}"
        data="{{@item}}"
        class="{{if !item.isAll}} indent {{/if}}"/>
    {{/if}}
</div>
{{/each}}